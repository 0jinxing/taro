<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.68">
<link rel="search" type="application/opensearchdescription+xml" title="Taro 文档" href="/taro/opensearch.xml">
<script src="https://storage.jd.com/taro-resource/tongji.js" async></script>
<script src="https://storage.jd.com/taro-docs/taro-doc-hotjar.js" async></script><title data-react-helmet="true">DB | Taro 文档</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="3.x"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-3.x"><meta data-react-helmet="true" property="og:title" content="DB | Taro 文档"><meta data-react-helmet="true" name="description" content="参数"><meta data-react-helmet="true" property="og:description" content="参数"><meta data-react-helmet="true" property="og:url" content="https://nervjs.github.io/taro/docs/apis/cloud/DB"><link data-react-helmet="true" rel="shortcut icon" href="/taro/./img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://nervjs.github.io/taro/docs/apis/cloud/DB"><link rel="stylesheet" href="/taro/styles.aced0b20.css">
<link rel="preload" href="/taro/styles.55db6f27.js" as="script">
<link rel="preload" href="/taro/runtime~main.452067a7.js" as="script">
<link rel="preload" href="/taro/main.741ca0ab.js" as="script">
<link rel="preload" href="/taro/1.8febc1d6.js" as="script">
<link rel="preload" href="/taro/2.caae0f6a.js" as="script">
<link rel="preload" href="/taro/1be78505.0177abb3.js" as="script">
<link rel="preload" href="/taro/5dde19ad.4e21ec1c.js" as="script">
<link rel="preload" href="/taro/17896441.09a1fa7a.js" as="script">
<link rel="preload" href="/taro/60cbf663.6ecf390b.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_2AhQ">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/taro/"><img src="/taro/img/logo-taro.png" alt="Taro logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img alt="Taro logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Taro</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/taro/docs/README">3.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/taro/docs/next/apis/cloud/DB">下个版本</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/taro/docs/apis/cloud/DB">3.x</a></li><li><a class="dropdown__link" href="/taro/docs/2.x/apis/cloud/DB">2.x</a></li><li><a class="dropdown__link" href="/taro/docs/1.x/README">1.x</a></li><li><a class="dropdown__link" href="/taro/versions">全部版本</a></li></ul></div><a class="navbar__item navbar__link" href="/taro/docs/README">文档</a><a class="navbar__item navbar__link" href="/taro/docs/components-desc">组件库</a><a class="navbar__item navbar__link navbar__link--active" href="/taro/docs/apis/about/desc">API</a><a class="navbar__item navbar__link" href="/taro/docs/guide">教程</a><a class="navbar__item navbar__link" href="/taro/blog">博客</a><a class="navbar__item navbar__link" href="/taro/showcase">案例</a></div><div class="navbar__items navbar__items--right"><a href="https://taro-ui.jd.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Taro UI</a><a href="https://taro-ext.jd.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">物料市场</a><a href="https://taro-club.jd.com" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">论坛</a><a href="https://taro.jd.com/jdmp/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">京东小程序</a><a href="https://github.com/nervjs/taro" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">⌘</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/taro/"><img src="/taro/img/logo-taro.png" alt="Taro logo" class="themedImage_2E_h themedImage--light_AouX navbar__logo"><img alt="Taro logo" class="themedImage_2E_h themedImage--dark_1YPN navbar__logo"><strong class="navbar__title">Taro</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/taro/docs/next/apis/cloud/DB">下个版本</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/taro/docs/apis/cloud/DB">3.x</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/2.x/apis/cloud/DB">2.x</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/1.x/README">1.x</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/versions">全部版本</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/README">文档</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/components-desc">组件库</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/taro/docs/apis/about/desc">API</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/docs/guide">教程</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/blog">博客</a></li><li class="menu__list-item"><a class="menu__link" href="/taro/showcase">案例</a></li><li class="menu__list-item"><a href="https://taro-ui.jd.com" target="_blank" rel="noopener noreferrer" class="menu__link">Taro UI</a></li><li class="menu__list-item"><a href="https://taro-ext.jd.com" target="_blank" rel="noopener noreferrer" class="menu__link">物料市场</a></li><li class="menu__list-item"><a href="https://taro-club.jd.com" target="_blank" rel="noopener noreferrer" class="menu__link">论坛</a></li><li class="menu__list-item"><a href="https://taro.jd.com/jdmp/index.html" target="_blank" rel="noopener noreferrer" class="menu__link">京东小程序</a></li><li class="menu__list-item"><a href="https://github.com/nervjs/taro" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive thin-scrollbar menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">关于API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/about/desc">API 说明</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/about/env">环境判断</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/about/events">消息机制</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/General">General</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">基础</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/canIUse">canIUse</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/base64ToArrayBuffer">base64ToArrayBuffer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/arrayBufferToBase64">arrayBufferToBase64</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">系统</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/system/getSystemInfo">getSystemInfo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/system/getSystemInfoSync">getSystemInfoSync</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">更新</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/update/getUpdateManager">getUpdateManager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/update/UpdateManager">UpdateManager</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">小程序</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">生命周期</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/weapp/life-cycle/getLaunchOptionsSync">getLaunchOptionsSync</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">应用级事件</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/weapp/app-event/onPageNotFound">onPageNotFound</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/weapp/app-event/onError">onError</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/weapp/app-event/onAudioInterruptionEnd">onAudioInterruptionEnd</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/weapp/app-event/onAudioInterruptionBegin">onAudioInterruptionBegin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/weapp/app-event/onAppShow">onAppShow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/weapp/app-event/onAppHide">onAppHide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/weapp/app-event/offPageNotFound">offPageNotFound</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/weapp/app-event/offError">offError</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/weapp/app-event/offAudioInterruptionEnd">offAudioInterruptionEnd</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/weapp/app-event/offAudioInterruptionBegin">offAudioInterruptionBegin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/weapp/app-event/offAppShow">offAppShow</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/weapp/app-event/offAppHide">offAppHide</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">调试</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/debug/setEnableDebug">setEnableDebug</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/debug/getRealtimeLogManager">getRealtimeLogManager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/debug/getLogManager">getLogManager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/debug/LogManager">LogManager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/debug/RealtimeLogManager">RealtimeLogManager</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/base/env/env">env</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">路由</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/route/switchTab">switchTab</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/route/reLaunch">reLaunch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/route/redirectTo">redirectTo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/route/navigateTo">navigateTo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/route/navigateBack">navigateBack</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/route/EventChannel">EventChannel</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">框架</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/framework/App">App</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/framework/getApp">getApp</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/framework/getCurrentPages">getCurrentPages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/framework/Page">Page</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">界面</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">交互</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/interaction/showToast">showToast</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/interaction/showModal">showModal</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/interaction/showLoading">showLoading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/interaction/showActionSheet">showActionSheet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/interaction/hideToast">hideToast</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/interaction/hideLoading">hideLoading</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">导航栏</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/navigation-bar/showNavigationBarLoading">showNavigationBarLoading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/navigation-bar/setNavigationBarTitle">setNavigationBarTitle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/navigation-bar/setNavigationBarColor">setNavigationBarColor</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/navigation-bar/hideNavigationBarLoading">hideNavigationBarLoading</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/navigation-bar/hideHomeButton">hideHomeButton</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">背景</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/background/setBackgroundTextStyle">setBackgroundTextStyle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/background/setBackgroundColor">setBackgroundColor</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Tab Bar</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/tab-bar/showTabBarRedDot">showTabBarRedDot</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/tab-bar/showTabBar">showTabBar</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/tab-bar/setTabBarStyle">setTabBarStyle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/tab-bar/setTabBarItem">setTabBarItem</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/tab-bar/setTabBarBadge">setTabBarBadge</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/tab-bar/removeTabBarBadge">removeTabBarBadge</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/tab-bar/hideTabBarRedDot">hideTabBarRedDot</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/tab-bar/hideTabBar">hideTabBar</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">字体</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/fonts/loadFontFace">loadFontFace</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">下拉刷新</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/pull-down-refresh/stopPullDownRefresh">stopPullDownRefresh</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/pull-down-refresh/startPullDownRefresh">startPullDownRefresh</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">滚动</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/scroll/pageScrollTo">pageScrollTo</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">动画</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/animation/createAnimation">createAnimation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/animation/Animation">Animation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">置顶</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/sticky/setTopBarText">setTopBarText</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">自定义组件</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/custom-component/nextTick">nextTick</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">菜单</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/menu/getMenuButtonBoundingClientRect">getMenuButtonBoundingClientRect</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">窗口</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/window/onWindowResize">onWindowResize</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/window/offWindowResize">offWindowResize</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">键盘</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/keyboard/onKeyboardHeightChange">onKeyboardHeightChange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/keyboard/hideKeyboard">hideKeyboard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ui/keyboard/getSelectedTextRange">getSelectedTextRange</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">网络</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">发起请求</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/request/request">request</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/request/RequestTask">RequestTask</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/request/addInterceptor">addInterceptor</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">下载</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/download/downloadFile">downloadFile</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/download/DownloadTask">DownloadTask</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">上传</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/upload/uploadFile">uploadFile</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/upload/UploadTask">UploadTask</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">WebSocket</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/webSocket/sendSocketMessage">sendSocketMessage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/webSocket/onSocketOpen">onSocketOpen</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/webSocket/onSocketMessage">onSocketMessage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/webSocket/onSocketError">onSocketError</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/webSocket/onSocketClose">onSocketClose</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/webSocket/connectSocket">connectSocket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/webSocket/closeSocket">closeSocket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/webSocket/SocketTask">SocketTask</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">mDNS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/mdns/stopLocalServiceDiscovery">stopLocalServiceDiscovery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/mdns/startLocalServiceDiscovery">startLocalServiceDiscovery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/mdns/onLocalServiceResolveFail">onLocalServiceResolveFail</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/mdns/onLocalServiceLost">onLocalServiceLost</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/mdns/onLocalServiceFound">onLocalServiceFound</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/mdns/onLocalServiceDiscoveryStop">onLocalServiceDiscoveryStop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/mdns/offLocalServiceResolveFail">offLocalServiceResolveFail</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/mdns/offLocalServiceLost">offLocalServiceLost</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/mdns/offLocalServiceFound">offLocalServiceFound</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/mdns/offLocalServiceDiscoveryStop">offLocalServiceDiscoveryStop</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">UDP 通信</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/udp/createUDPSocket">createUDPSocket</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/network/udp/UDPSocket">UDPSocket</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">数据缓存</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/storage/setStorageSync">setStorageSync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/storage/setStorage">setStorage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/storage/removeStorageSync">removeStorageSync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/storage/removeStorage">removeStorage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/storage/getStorageSync">getStorageSync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/storage/getStorageInfoSync">getStorageInfoSync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/storage/getStorageInfo">getStorageInfo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/storage/getStorage">getStorage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/storage/clearStorageSync">clearStorageSync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/storage/clearStorage">clearStorage</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">周期性更新</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/storage/background-fetch/setBackgroundFetchToken">setBackgroundFetchToken</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/storage/background-fetch/onBackgroundFetchData">onBackgroundFetchData</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/storage/background-fetch/getBackgroundFetchToken">getBackgroundFetchToken</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/storage/background-fetch/getBackgroundFetchData">getBackgroundFetchData</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">媒体</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">地图</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/map/createMapContext">createMapContext</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/map/MapContext">MapContext</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">图片</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/image/saveImageToPhotosAlbum">saveImageToPhotosAlbum</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/image/previewImage">previewImage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/image/getImageInfo">getImageInfo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/image/compressImage">compressImage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/image/chooseMessageFile">chooseMessageFile</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/image/chooseImage">chooseImage</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">视频</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/video/saveVideoToPhotosAlbum">saveVideoToPhotosAlbum</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/video/createVideoContext">createVideoContext</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/video/chooseVideo">chooseVideo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/video/VideoContext">VideoContext</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">音频</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/audio/stopVoice">stopVoice</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/audio/setInnerAudioOption">setInnerAudioOption</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/audio/playVoice">playVoice</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/audio/pauseVoice">pauseVoice</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/audio/getAvailableAudioSources">getAvailableAudioSources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/audio/createInnerAudioContext">createInnerAudioContext</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/audio/createAudioContext">createAudioContext</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/audio/AudioContext">AudioContext</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/audio/InnerAudioContext">InnerAudioContext</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">背景音频</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/background-audio/stopBackgroundAudio">stopBackgroundAudio</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/background-audio/seekBackgroundAudio">seekBackgroundAudio</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/background-audio/playBackgroundAudio">playBackgroundAudio</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/background-audio/pauseBackgroundAudio">pauseBackgroundAudio</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/background-audio/onBackgroundAudioStop">onBackgroundAudioStop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/background-audio/onBackgroundAudioPlay">onBackgroundAudioPlay</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/background-audio/onBackgroundAudioPause">onBackgroundAudioPause</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/background-audio/getBackgroundAudioPlayerState">getBackgroundAudioPlayerState</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/background-audio/getBackgroundAudioManager">getBackgroundAudioManager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/background-audio/BackgroundAudioManager">BackgroundAudioManager</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">实时音视频</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/live/createLivePusherContext">createLivePusherContext</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/live/createLivePlayerContext">createLivePlayerContext</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/live/LivePlayerContext">LivePlayerContext</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/live/LivePusherContext">LivePusherContext</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">录音</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/recorder/stopRecord">stopRecord</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/recorder/startRecord">startRecord</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/recorder/getRecorderManager">getRecorderManager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/recorder/RecorderManager">RecorderManager</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">相机</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/camera/createCameraContext">createCameraContext</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/camera/CameraContext">CameraContext</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">富文本</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/editor/EditorContext">EditorContext</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">音视频合成</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/video-processing/createMediaContainer">createMediaContainer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/video-processing/MediaContainer">MediaContainer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/media/video-processing/MediaTrack">MediaTrack</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">位置</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/location/stopLocationUpdate">stopLocationUpdate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/location/startLocationUpdateBackground">startLocationUpdateBackground</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/location/startLocationUpdate">startLocationUpdate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/location/openLocation">openLocation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/location/onLocationChange">onLocationChange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/location/offLocationChange">offLocationChange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/location/getLocation">getLocation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/location/chooseLocation">chooseLocation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">转发</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/share/updateShareMenu">updateShareMenu</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/share/showShareMenu">showShareMenu</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/share/hideShareMenu">hideShareMenu</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/share/getShareInfo">getShareInfo</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">画布</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/canvas/createOffscreenCanvas">createOffscreenCanvas</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/canvas/createCanvasContext">createCanvasContext</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/canvas/canvasToTempFilePath">canvasToTempFilePath</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/canvas/canvasPutImageData">canvasPutImageData</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/canvas/canvasGetImageData">canvasGetImageData</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/canvas/Canvas">Canvas</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/canvas/CanvasContext">CanvasContext</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/canvas/CanvasGradient">CanvasGradient</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/canvas/Color">Color</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/canvas/Image">Image</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/canvas/ImageData">ImageData</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/canvas/OffscreenCanvas">OffscreenCanvas</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/canvas/RenderingContext">RenderingContext</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">文件</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/files/saveFile">saveFile</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/files/removeSavedFile">removeSavedFile</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/files/openDocument">openDocument</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/files/getSavedFileList">getSavedFileList</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/files/getSavedFileInfo">getSavedFileInfo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/files/getFileSystemManager">getFileSystemManager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/files/getFileInfo">getFileInfo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/files/FileSystemManager">FileSystemManager</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/files/Stats">Stats</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">开放接口</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">登录</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/login/login">login</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/login/checkSession">checkSession</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">小程序跳转</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/navigate/navigateToMiniProgram">navigateToMiniProgram</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/navigate/navigateBackMiniProgram">navigateBackMiniProgram</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">账户信息</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/account/getAccountInfoSync">getAccountInfoSync</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">用户信息</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/user-info/getUserInfo">getUserInfo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/user-info/UserInfo">UserInfo</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">数据上报</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/report/reportMonitor">reportMonitor</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">数据分析</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/data-analysis/reportAnalytics">reportAnalytics</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">支付</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/payment/requestPayment">requestPayment</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/payment/faceVerifyForPay">faceVerifyForPay</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">授权</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/authorize/authorize">authorize</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">设置</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/settings/openSetting">openSetting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/settings/getSetting">getSetting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/settings/AuthSetting">AuthSetting</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">收货地址</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/address/chooseAddress">chooseAddress</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">卡券</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/card/openCard">openCard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/card/addCard">addCard</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">发票</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/invoice/chooseInvoiceTitle">chooseInvoiceTitle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/invoice/chooseInvoice">chooseInvoice</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">生物认证</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/soter/startSoterAuthentication">startSoterAuthentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/soter/checkIsSupportSoterAuthentication">checkIsSupportSoterAuthentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/soter/checkIsSoterEnrolledInDevice">checkIsSoterEnrolledInDevice</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/facial/checkIsSupportFacialRecognition">checkIsSupportFacialRecognition</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/facial/startFacialRecognitionVerify">startFacialRecognitionVerify</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/facial/startFacialRecognitionVerifyAndUploadVideo">startFacialRecognitionVerifyAndUploadVideo</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">微信运动</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/werun/getWeRunData">getWeRunData</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">订阅消息</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/open-api/subscribe-message/requestSubscribeMessage">requestSubscribeMessage</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">设备</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">IBeacon</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/ibeacon/stopBeaconDiscovery">stopBeaconDiscovery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/ibeacon/startBeaconDiscovery">startBeaconDiscovery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/ibeacon/onBeaconUpdate">onBeaconUpdate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/ibeacon/onBeaconServiceChange">onBeaconServiceChange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/ibeacon/offBeaconUpdate">offBeaconUpdate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/ibeacon/offBeaconServiceChange">offBeaconServiceChange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/ibeacon/getBeacons">getBeacons</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/ibeacon/IBeaconInfo">IBeaconInfo</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Wi-Fi</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/wifi/stopWifi">stopWifi</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/wifi/startWifi">startWifi</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/wifi/setWifiList">setWifiList</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/wifi/onWifiConnected">onWifiConnected</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/wifi/onGetWifiList">onGetWifiList</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/wifi/offWifiConnected">offWifiConnected</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/wifi/offGetWifiList">offGetWifiList</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/wifi/getWifiList">getWifiList</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/wifi/getConnectedWifi">getConnectedWifi</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/wifi/connectWifi">connectWifi</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/wifi/WifiInfo">WifiInfo</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">联系人</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/contact/addPhoneContact">addPhoneContact</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">低功耗蓝牙</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/ble/writeBLECharacteristicValue">writeBLECharacteristicValue</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/ble/readBLECharacteristicValue">readBLECharacteristicValue</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/ble/onBLEConnectionStateChange">onBLEConnectionStateChange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/ble/onBLECharacteristicValueChange">onBLECharacteristicValueChange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/ble/notifyBLECharacteristicValueChange">notifyBLECharacteristicValueChange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/ble/getBLEDeviceServices">getBLEDeviceServices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/ble/getBLEDeviceCharacteristics">getBLEDeviceCharacteristics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/ble/createBLEConnection">createBLEConnection</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/ble/closeBLEConnection">closeBLEConnection</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">蓝牙</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/bluetooth/stopBluetoothDevicesDiscovery">stopBluetoothDevicesDiscovery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/bluetooth/startBluetoothDevicesDiscovery">startBluetoothDevicesDiscovery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/bluetooth/openBluetoothAdapter">openBluetoothAdapter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/bluetooth/onBluetoothDeviceFound">onBluetoothDeviceFound</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/bluetooth/onBluetoothAdapterStateChange">onBluetoothAdapterStateChange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/bluetooth/getConnectedBluetoothDevices">getConnectedBluetoothDevices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/bluetooth/getBluetoothDevices">getBluetoothDevices</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/bluetooth/getBluetoothAdapterState">getBluetoothAdapterState</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/bluetooth/closeBluetoothAdapter">closeBluetoothAdapter</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">电量</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/battery/getBatteryInfoSync">getBatteryInfoSync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/battery/getBatteryInfo">getBatteryInfo</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">剪贴板</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/clipboard/setClipboardData">setClipboardData</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/clipboard/getClipboardData">getClipboardData</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">NFC</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/nfc/stopHCE">stopHCE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/nfc/startHCE">startHCE</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/nfc/sendHCEMessage">sendHCEMessage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/nfc/onHCEMessage">onHCEMessage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/nfc/offHCEMessage">offHCEMessage</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/nfc/getHCEState">getHCEState</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">网络</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/network/onNetworkStatusChange">onNetworkStatusChange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/network/offNetworkStatusChange">offNetworkStatusChange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/network/getNetworkType">getNetworkType</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">屏幕</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/screen/setScreenBrightness">setScreenBrightness</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/screen/setKeepScreenOn">setKeepScreenOn</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/screen/onUserCaptureScreen">onUserCaptureScreen</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/screen/offUserCaptureScreen">offUserCaptureScreen</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/screen/getScreenBrightness">getScreenBrightness</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">电话</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/phone/makePhoneCall">makePhoneCall</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">加速计</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/accelerometer/stopAccelerometer">stopAccelerometer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/accelerometer/startAccelerometer">startAccelerometer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/accelerometer/onAccelerometerChange">onAccelerometerChange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/accelerometer/offAccelerometerChange">offAccelerometerChange</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">罗盘</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/compass/stopCompass">stopCompass</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/compass/startCompass">startCompass</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/compass/onCompassChange">onCompassChange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/compass/offCompassChange">offCompassChange</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">设备方向</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/motion/stopDeviceMotionListening">stopDeviceMotionListening</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/motion/startDeviceMotionListening">startDeviceMotionListening</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/motion/onDeviceMotionChange">onDeviceMotionChange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/motion/offDeviceMotionChange">offDeviceMotionChange</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">陀螺仪</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/gyroscope/stopGyroscope">stopGyroscope</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/gyroscope/startGyroscope">startGyroscope</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/gyroscope/onGyroscopeChange">onGyroscopeChange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/gyroscope/offGyroscopeChange">offGyroscopeChange</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">性能</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/performance/onMemoryWarning">onMemoryWarning</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">扫码</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/scan/scancode">scanCode</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">震动</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/vibrate/vibrateShort">vibrateShort</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/device/vibrate/vibrateLong">vibrateLong</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Worker</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/worker/createWorker">createWorker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/worker/Worker">Worker</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">第三方平台</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ext/getExtConfigSync">getExtConfigSync</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ext/getExtConfig">getExtConfig</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">云开发</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/taro/docs/apis/cloud/cloud">cloud</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/taro/docs/apis/cloud/DB">DB</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">WXML</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/wxml/createSelectorQuery">createSelectorQuery</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/wxml/createIntersectionObserver">createIntersectionObserver</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/wxml/IntersectionObserver">IntersectionObserver</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/wxml/NodesRef">NodesRef</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/wxml/SelectorQuery">SelectorQuery</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">广告</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ad/createRewardedVideoAd">createRewardedVideoAd</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ad/createInterstitialAd">createInterstitialAd</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ad/InterstitialAd">InterstitialAd</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/ad/RewardedVideoAd">RewardedVideoAd</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Alipay</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/alipay/getOpenUserInfo">getOpenUserInfo</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Swan</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/taro/docs/apis/swan/setPageInfo">setPageInfo</a></li></ul></li></ul></div><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_2Tub"></button></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_39qw"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><div><span class="badge badge--secondary">Version: 3.x</span></div><header><h1 class="docTitle_1Lrw">DB</h1></header><div class="markdown"><h2 id="参数">参数</h2><h3 id="database">Database</h3><p>云开发 SDK 数据库实例</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Database.html">参考文档</a></p></blockquote><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>config</td><td><code>IConfig</code></td><td>数据库配置</td></tr><tr><td>command</td><td><code>Command</code></td><td>数据库操作符，通过 db.command 获取<br>API 支持度: weapp<br><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Command.html">参考地址</a></td></tr><tr><td>Geo</td><td><code>IGeo</code></td><td>数据库地理位置结构集<br>API 支持度: weapp<br><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Geo.html">参考地址</a></td></tr></tbody></table><h4 id="serverdate">serverDate</h4><p>构造一个服务端时间的引用。可用于查询条件、更新字段值或新增记录时的字段值。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Database.serverDate.html">参考文档</a></p></blockquote><pre><code class="language-tsx">() =&gt; ServerDate
</code></pre><h5 id="示例代码">示例代码</h5><p>新增记录时设置字段为服务端时间：</p><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).add({
  description: &#x27;eat an apple&#x27;,
  createTime: db.serverDate()
})
</code></pre><p>更新字段为服务端时间往后一小时：</p><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).doc(&#x27;my-todo-id&#x27;).update({
  due: db.serverDate({
    offset: 60 * 60 * 1000
  })
})
</code></pre><h5 id="api-支持度">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Database.serverDate</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="regexp">RegExp</h4><p>构造正则表达式，仅需在普通 js 正则表达式无法满足的情况下使用</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Database.RegExp.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(options: IRegExpOptions) =&gt; IRegExp
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>options</td><td><code>IRegExpOptions</code></td></tr></tbody></table><h5 id="示例代码-1">示例代码</h5><pre><code class="language-tsx">// 原生 JavaScript 对象
db.collection(&#x27;todos&#x27;).where({
  description: /miniprogram/i
})

// 数据库正则对象
db.collection(&#x27;todos&#x27;).where({
  description: db.RegExp({
    regexp: &#x27;miniprogram&#x27;,
    options: &#x27;i&#x27;,
  })
})

// 用 new 构造也是可以的
db.collection(&#x27;todos&#x27;).where({
  description: new db.RegExp({
    regexp: &#x27;miniprogram&#x27;,
    options: &#x27;i&#x27;,
  })
})
</code></pre><h5 id="api-支持度-1">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Database.RegExp</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="collection">collection</h4><p>获取集合的引用。方法接受一个 <code>name</code> 参数，指定需引用的集合名称。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Database.collection.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(collectionName: string) =&gt; Collection
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>collectionName</td><td><code>string</code></td></tr></tbody></table><h5 id="示例代码-2">示例代码</h5><pre><code class="language-tsx">const db = Taro.cloud.database()
const todosCollection = db.collection(&#x27;todos&#x27;)
</code></pre><h5 id="api-支持度-2">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Database.collection</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="serverdate-1">ServerDate</h4><p>可用于查询条件、更新字段值或新增记录时的字段值。</p><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>options</td><td><code>IOptions</code></td></tr></tbody></table><h5 id="ioptions">IOptions</h5><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>offset</td><td><code>number</code></td></tr></tbody></table><h4 id="iregexp">IRegExp</h4><p>构造正则表达式</p><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>regexp</td><td><code>string</code></td></tr><tr><td>options</td><td><code>string</code></td></tr></tbody></table><h5 id="iregexpoptions">IRegExpOptions</h5><table><thead><tr><th>参数</th><th>类型</th><th align="center">必填</th></tr></thead><tbody><tr><td>regexp</td><td><code>string</code></td><td align="center">是</td></tr><tr><td>options</td><td><code>string</code></td><td align="center">否</td></tr></tbody></table><h4 id="internalsymbol">InternalSymbol</h4><p>内部符号</p><h4 id="api-支持度-3">API 支持度</h4><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Database.command</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Database.Geo</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Database.serverDate</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Database.RegExp</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Database.collection</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h3 id="collection-1">Collection</h3><p>数据库集合引用</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Collection.html">参考文档</a></p></blockquote><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>collectionName</td><td><code>string</code></td><td>集合名称</td></tr><tr><td>database</td><td><code>Database</code></td><td>集合所在数据库引用</td></tr></tbody></table><h4 id="doc">doc</h4><p>获取集合中指定记录的引用。方法接受一个 <code>id</code> 参数，指定需引用的记录的 <code>_id</code>。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.doc.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(docId: string | number) =&gt; Document
</code></pre><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>docId</td><td>`string</td><td>number`</td></tr></tbody></table><h5 id="示例代码-3">示例代码</h5><pre><code class="language-tsx">const myTodo = db.collection(&#x27;todos&#x27;).doc(&#x27;my-todo-id&#x27;)
</code></pre><h5 id="api-支持度-4">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Collection.doc</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="aggregate">aggregate</h4><p>发起聚合操作，定义完聚合流水线阶段之后需调用 end 方法标志结束定义并实际发起聚合操作</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.aggregate.html">参考文档</a></p></blockquote><pre><code class="language-tsx">() =&gt; Aggregate
</code></pre><h5 id="示例代码-4">示例代码</h5><h6 id="示例-1">示例 1</h6><pre><code class="language-tsx">const $ = db.command.aggregate
db.collection(&#x27;books&#x27;).aggregate()
  .group({
    // 按 category 字段分组
    _id: &#x27;$category&#x27;,
    // 让输出的每组记录有一个 avgSales 字段，其值是组内所有记录的 sales 字段的平均值
    avgSales: $.avg(&#x27;$sales&#x27;)
  })
  .end()
  .then(res =&gt; console.log(res))
  .catch(err =&gt; console.error(err))
</code></pre><h6 id="示例-2">示例 2</h6><pre><code class="language-tsx">const $ = db.command.aggregate
db.collection(&#x27;books&#x27;).aggregate()
  .group({
    // 按 category 字段分组
    _id: &#x27;$category&#x27;,
    // 让输出的每组记录有一个 avgSales 字段，其值是组内所有记录的 sales 字段的平均值
    avgSales: $.avg(&#x27;$sales&#x27;)
  })
  .end({
    success: function(res) {
      console.log(res)
    },
    fail: function(err) {
      console.error(err)
    }
  })
</code></pre><h5 id="api-支持度-5">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Collection.aggregate</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="where">where</h4><p>指定查询条件，返回带新查询条件的新的集合引用</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.where.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(condition: IQueryCondition) =&gt; Collection
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>condition</td><td><code>IQueryCondition</code></td></tr></tbody></table><h5 id="示例代码-5">示例代码</h5><pre><code class="language-tsx">const _ = db.command
const result = await db.collection(&#x27;todos&#x27;).where({
  price: _.lt(100)
}).get()
</code></pre><h5 id="api-支持度-6">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Collection.where</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="limit">limit</h4><p>指定查询结果集数量上限</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.limit.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(value: number) =&gt; Collection
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>value</td><td><code>number</code></td></tr></tbody></table><h5 id="示例代码-6">示例代码</h5><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).limit(10)
  .get()
  .then(console.log)
  .catch(console.error)
</code></pre><h5 id="api-支持度-7">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Collection.limit</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="orderby">orderBy</h4><p>指定查询排序条件</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.orderBy.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(fieldPath: string, string: &quot;asc&quot; | &quot;desc&quot;) =&gt; Collection
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>fieldPath</td><td><code>string</code></td></tr><tr><td>string</td><td>`&quot;asc&quot;</td></tr></tbody></table><h5 id="示例代码-7">示例代码</h5><p>按一个字段排序：按进度排升序取待办事项</p><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).orderBy(&#x27;progress&#x27;, &#x27;asc&#x27;)
  .get()
  .then(console.log)
  .catch(console.error)
</code></pre><p>按多个字段排序：先按 progress 排降序（progress 越大越靠前）、再按 description 排升序（字母序越前越靠前）取待办事项</p><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;)
  .orderBy(&#x27;progress&#x27;, &#x27;desc&#x27;)
  .orderBy(&#x27;description&#x27;, &#x27;asc&#x27;)
  .get()
  .then(console.log)
  .catch(console.error)
</code></pre><h5 id="api-支持度-8">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Collection.orderBy</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="skip">skip</h4><p>指定查询返回结果时从指定序列后的结果开始返回，常用于分页</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.skip.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(offset: number) =&gt; Collection
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>offset</td><td><code>number</code></td></tr></tbody></table><h5 id="示例代码-8">示例代码</h5><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).skip(10)
  .get()
  .then(console.log)
  .catch(console.error)
</code></pre><h5 id="api-支持度-9">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Collection.skip</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="field">field</h4><p>指定返回结果中记录需返回的字段</p><p><strong>说明</strong></p><p>方法接受一个必填对象用于指定需返回的字段，对象的各个 key 表示要返回或不要返回的字段，value 传入 true|false（或 1|-1）表示要返回还是不要返回。
如果指定的字段是数组字段，还可以用以下方法只返回数组的第一个元素：在该字段 key 后面拼接上 <code>.$</code> 成为 <code>字段.$</code> 的形式。
如果指定的字段是数组字段，还可以用 <code>db.command.project.slice</code> 方法返回数组的子数组：
方法既可以接收一个正数表示返回前 n 个元素，也可以接收一个负数表示返回后 n 个元素；还可以接收一个包含两个数字 <code>[ skip, limit ]</code> 的数组，如果 <code>skip</code> 是正数，表示跳过 <code>skip</code> 个元素后再返回接下来的 <code>limit</code> 个元素，如果 <code>skip</code> 是负数，表示从倒数第 <code>skip</code> 个元素开始，返回往后数的 <code>limit</code> 个元素</p><ul><li>返回数组的前 5 个元素：<code>{ tags: db.command.project.slice(5) }</code></li><li>返回数组的后 5 个元素：<code>{ tags: db.command.project.slice(-5) }</code></li><li>跳过前 5 个元素，返回接下来 10 个元素：<code>{ tags: db.command.project.slice(5, 10) }</code></li><li>从倒数第 5 个元素开始，返回接下来正方向数的 10 个元素：<code>{ tags: db.command.project.slice(-5, 10) }</code></li></ul><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.field.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(object: Record&lt;string, any&gt;) =&gt; Collection
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>object</td><td><code>Record&lt;string, any&gt;</code></td></tr></tbody></table><h5 id="示例代码-9">示例代码</h5><p>返回 description, done 和 progress 三个字段：</p><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).field({
  description: true,
  done: true,
  progress: true,
  // 只返回 tags 数组前 3 个元素
  tags: db.command.project.slice(3),
})
  .get()
  .then(console.log)
  .catch(console.error)
</code></pre><h5 id="api-支持度-10">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Collection.field</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="get">get</h4><p>获取集合数据，或获取根据查询条件筛选后的集合数据。</p><p><strong>使用说明</strong></p><p>统计集合记录数或统计查询语句对应的结果记录数</p><p>小程序端与云函数端的表现会有如下差异：</p><ul><li>小程序端：如果没有指定 limit，则默认且最多取 20 条记录。</li><li>云函数端：如果没有指定 limit，则默认且最多取 100 条记录。</li></ul><p>如果没有指定 skip，则默认从第 0 条记录开始取，skip 常用于分页。</p><p>如果需要取集合中所有的数据，仅在数据量不大且在云函数中时</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.get.html">参考文档</a></p></blockquote><pre><code class="language-tsx">() =&gt; Promise&lt;IQueryResult&gt;
</code></pre><h5 id="示例代码-10">示例代码</h5><pre><code class="language-tsx">const db = Taro.cloud.database()
db.collection(&#x27;todos&#x27;).where({
  _openid: &#x27;xxx&#x27; // 填入当前用户 openid
}).get().then(res =&gt; {
  console.log(res.data)
})
</code></pre><h5 id="api-支持度-11">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Collection.get</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="count">count</h4><p>统计匹配查询条件的记录的条数</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.count.html">参考文档</a></p></blockquote><pre><code class="language-tsx">() =&gt; Promise&lt;ICountResult&gt;
</code></pre><h5 id="示例代码-11">示例代码</h5><h6 id="示例-1-1">示例 1</h6><pre><code class="language-tsx">const db = Taro.cloud.database()
db.collection(&#x27;todos&#x27;).where({
  _openid: &#x27;xxx&#x27; // 填入当前用户 openid
}).count().then(res =&gt; {
  console.log(res.total)
})
</code></pre><h6 id="示例-2-1">示例 2</h6><pre><code class="language-tsx">const db = Taro.cloud.database()
db.collection(&#x27;todos&#x27;).where({
  _openid: &#x27;xxx&#x27; // 填入当前用户 openid
}).count({
  success: function(res) {
    console.log(res.total)
  },
  fail: console.error
})
</code></pre><h5 id="api-支持度-12">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Collection.count</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="add">add</h4><p>新增记录，如果传入的记录对象没有 _id 字段，则由后台自动生成 _id；若指定了 _id，则不能与已有记录冲突</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.add.html">参考文档</a></p></blockquote><pre><code class="language-tsx">{ (options: OQ&lt;IAddDocumentOptions&gt;): void; (options: Pick&lt;IAddDocumentOptions, &quot;data&quot; | &quot;config&quot;&gt;): Promise&lt;IAddResult&gt;; }
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>options</td><td><code>OQ&lt;IAddDocumentOptions&gt;</code></td></tr></tbody></table><h5 id="示例代码-12">示例代码</h5><h6 id="示例-1-2">示例 1</h6><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).add({
  // data 字段表示需新增的 JSON 数据
  data: {
    description: &quot;learn cloud database&quot;,
    due: new Date(&quot;2018-09-01&quot;),
    tags: [
      &quot;cloud&quot;,
      &quot;database&quot;
    ],
    location: new db.Geo.Point(113, 23),
    done: false
  }
})
.then(res =&gt; {
  console.log(res)
})
.catch(console.error)
</code></pre><h6 id="示例-2-2">示例 2</h6><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).add({
  // data 字段表示需新增的 JSON 数据
  data: {
    // _id: &#x27;todo-identifiant-aleatoire&#x27;, // 可选自定义 _id，在此处场景下用数据库自动分配的就可以了
    description: &quot;learn cloud database&quot;,
    due: new Date(&quot;2018-09-01&quot;),
    tags: [
      &quot;cloud&quot;,
      &quot;database&quot;
    ],
    // 为待办事项添加一个地理位置（113°E，23°N）
    location: new db.Geo.Point(113, 23),
    done: false
  },
  success: function(res) {
    // res 是一个对象，其中有 _id 字段标记刚创建的记录的 id
    console.log(res)
  },
  fail: console.error,
  complete: cosnole.log
})
</code></pre><h5 id="api-支持度-13">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Collection.add</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="watch">watch</h4><p>监听集合中符合查询条件的数据的更新事件。注意使用 watch 时，只有 where 语句会生效，orderBy、limit 等不生效。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.watch.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(options: IWatchDocumentOptions) =&gt; IWatcher
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>options</td><td><code>IWatchDocumentOptions</code></td></tr></tbody></table><h5 id="示例代码-13">示例代码</h5><h6 id="示例-1-3">示例 1</h6><p>根据查询条件监听</p><pre><code class="language-tsx">const db = Taro.cloud.database()
const watcher = db.collection(&#x27;todos&#x27;).where({
  _openid: &#x27;xxx&#x27; // 填入当前用户 openid
}).watch({
  onChange: function(snapshot) {
    console.log(&#x27;snapshot&#x27;, snapshot)
  },
  onError: function(err) {
    console.error(&#x27;the watch closed because of error&#x27;, err)
  }
})
</code></pre><h6 id="示例-2-3">示例 2</h6><p>监听一个记录的变化</p><pre><code class="language-tsx">const db = Taro.cloud.database()
const watcher = db.collection(&#x27;todos&#x27;).doc(&#x27;x&#x27;).watch({
  onChange: function(snapshot) {
    console.log(&#x27;snapshot&#x27;, snapshot)
  },
  onError: function(err) {
    console.error(&#x27;the watch closed because of error&#x27;, err)
  }
})
</code></pre><h6 id="示例-3">示例 3</h6><p>关闭监听</p><pre><code class="language-tsx">const db = Taro.cloud.database()
const watcher = db.collection(&#x27;todos&#x27;).where({
  _openid: &#x27;xxx&#x27; // 填入当前用户 openid
}).watch({
  onChange: function(snapshot) {
    console.log(&#x27;snapshot&#x27;, snapshot)
  },
  onError: function(err) {
    console.error(&#x27;the watch closed because of error&#x27;, err)
  }
})
// ...
// 关闭
await watcher.close()
</code></pre><h5 id="api-支持度-14">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Collection.watch</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="api-支持度-15">API 支持度</h4><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Collection.doc</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Collection.aggregate</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Collection.where</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Collection.limit</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Collection.orderBy</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Collection.skip</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Collection.field</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Collection.get</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Collection.count</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Collection.add</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Collection.watch</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h3 id="document">Document</h3><p>数据库记录引用</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Document.html">参考文档</a></p></blockquote><h4 id="get-1">get</h4><p>获取记录数据，或获取根据查询条件筛选后的记录数据</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/document/Document.get.html">参考文档</a></p></blockquote><pre><code class="language-tsx">{ (options: OQ&lt;IDBAPIParam&gt;): void; (options: Pick&lt;IDBAPIParam, &quot;config&quot;&gt;): Promise&lt;IQuerySingleResult&gt;; }
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>options</td><td><code>OQ&lt;IDBAPIParam&gt;</code></td></tr></tbody></table><h5 id="示例代码-14">示例代码</h5><h6 id="示例-1-4">示例 1</h6><pre><code class="language-tsx">const db = Taro.cloud.database()
db.collection(&#x27;todos&#x27;).doc(&#x27;&lt;some-todo-id&gt;&#x27;).get().then(res =&gt; {
  console.log(res.data)
})
</code></pre><h6 id="示例-2-4">示例 2</h6><pre><code class="language-tsx">const db = Taro.cloud.database()
db.collection(&#x27;todos&#x27;).doc(&#x27;&lt;some-todo-id&gt;&#x27;).get({
  success: function(res) {
    console.log(res.data)
  },
  fail: console.error
})
</code></pre><h5 id="api-支持度-16">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Document.get</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="set">set</h4><p>替换更新一条记</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/document/Document.set.html">参考文档</a></p></blockquote><pre><code class="language-tsx">{ (options: OQ&lt;ISetSingleDocumentOptions&gt;): void; (options: Pick&lt;ISetSingleDocumentOptions, &quot;data&quot; | &quot;config&quot;&gt;): Promise&lt;...&gt;; }
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>options</td><td><code>OQ&lt;ISetSingleDocumentOptions&gt;</code></td></tr></tbody></table><h5 id="示例代码-15">示例代码</h5><h6 id="示例-1-5">示例 1</h6><pre><code class="language-tsx">const _ = db.command
db.collection(&#x27;todos&#x27;).doc(&#x27;todo-identifiant-aleatoire&#x27;).set({
  data: {
    description: &quot;learn cloud database&quot;,
    due: new Date(&quot;2018-09-01&quot;),
    tags: [
      &quot;cloud&quot;,
      &quot;database&quot;
    ],
    style: {
      color: &quot;skyblue&quot;
    },
    // 位置（113°E，23°N）
    location: new db.Geo.Point(113, 23),
    done: false
  }
}).then(res =&gt; {
  console.log(res)
}).catch(err =&gt; {
  console.error(err)
})
</code></pre><h6 id="示例-2-5">示例 2</h6><pre><code class="language-tsx">const _ = db.command
db.collection(&#x27;todos&#x27;).doc(&#x27;todo-identifiant-aleatoire&#x27;).set({
  data: {
    description: &quot;learn cloud database&quot;,
    due: new Date(&quot;2018-09-01&quot;),
    tags: [
      &quot;cloud&quot;,
      &quot;database&quot;
    ],
    style: {
      color: &quot;skyblue&quot;
    },
    // 位置（113°E，23°N）
    location: new db.Geo.Point(113, 23),
    done: false
  },
  success: function(res) {
    console.log(res.data)
  },
  fail: console.error
})
</code></pre><h5 id="api-支持度-17">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Document.set</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="update">update</h4><p>更新一条记录</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/document/Document.update.html">参考文档</a></p></blockquote><pre><code class="language-tsx">{ (options: OQ&lt;IUpdateSingleDocumentOptions&gt;): void; (options: Pick&lt;IUpdateSingleDocumentOptions, &quot;data&quot; | &quot;config&quot;&gt;): Promise&lt;...&gt;; }
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>options</td><td><code>OQ&lt;IUpdateSingleDocumentOptions&gt;</code></td></tr></tbody></table><h5 id="示例代码-16">示例代码</h5><h6 id="示例-1-6">示例 1</h6><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).doc(&#x27;todo-identifiant-aleatoire&#x27;).update({
  // data 传入需要局部更新的数据
  data: {
    // 表示将 done 字段置为 true
    done: true
  }
})
.then(console.log)
.catch(console.error)
</code></pre><h6 id="示例-2-6">示例 2</h6><p>db.collection(&#x27;todos&#x27;).doc(&#x27;todo-identifiant-aleatoire&#x27;).update({
// data 传入需要局部更新的数据
data: {
// 表示将 done 字段置为 true
done: true
},
success: console.log,
fail: console.error
})</p><pre><code>
##### API 支持度

| API | 微信小程序 | 百度小程序 | 支付宝小程序 | 字节跳动小程序 | QQ 小程序 | H5 | React Native | 快应用 |
| :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: | :---: |
| Document.update | ✔️ |  |  |  |  |  |  |  |

#### remove

删除一条记录

&gt; [参考文档](https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/document/Document.remove.html)

```tsx
{ (options: OQ&lt;IDBAPIParam&gt;): void; (options: Pick&lt;IDBAPIParam, &quot;config&quot;&gt;): Promise&lt;IRemoveResult&gt;; }
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>options</td><td><code>OQ&lt;IDBAPIParam&gt;</code></td></tr></tbody></table><h5 id="示例代码-17">示例代码</h5><h6 id="示例-1-7">示例 1</h6><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).doc(&#x27;todo-identifiant-aleatoire&#x27;).remove()
  .then(console.log)
  .catch(console.error)
</code></pre><h6 id="示例-2-7">示例 2</h6><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).doc(&#x27;todo-identifiant-aleatoire&#x27;).remove({
  success: console.log,
  fail: console.error
})
</code></pre><h5 id="api-支持度-18">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Document.remove</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="documentid">DocumentId</h4><p>记录 ID</p><h4 id="idocumentdata">IDocumentData</h4><p>记录结构</p><table><thead><tr><th>参数</th><th>类型</th><th align="center">必填</th><th>说明</th></tr></thead><tbody><tr><td>_id</td><td>`string</td><td align="center">number`</td><td>否</td></tr><tr><td>__index</td><td><code>__index</code></td><td align="center">是</td><td></td></tr></tbody></table><h4 id="idbapiparam">IDBAPIParam</h4><p>数据库 API 通用参数</p><table><thead><tr><th>参数</th><th>类型</th><th align="center">必填</th><th>说明</th></tr></thead><tbody><tr><td>config</td><td><code>IConfig</code></td><td align="center">否</td><td>配置</td></tr><tr><td>success</td><td><code>(res: T) =&gt; void</code></td><td align="center">否</td><td>接口调用成功的回调函数</td></tr><tr><td>fail</td><td><code>(err: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用失败的回调函数</td></tr><tr><td>complete</td><td>`(val: CallbackResult</td><td align="center">T) =&gt; void`</td><td>否</td></tr></tbody></table><h4 id="iadddocumentoptions">IAddDocumentOptions</h4><p>新增记录的定义</p><table><thead><tr><th>参数</th><th>类型</th><th align="center">必填</th><th>说明</th></tr></thead><tbody><tr><td>data</td><td><code>IDocumentData</code></td><td align="center">是</td><td>新增记录的定义</td></tr><tr><td>config</td><td><code>IConfig</code></td><td align="center">否</td><td>配置</td></tr><tr><td>complete</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用结束的回调函数（调用成功、失败都会执行）</td></tr><tr><td>fail</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用失败的回调函数</td></tr><tr><td>success</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用成功的回调函数</td></tr></tbody></table><h4 id="iwatchdocumentoptions">IWatchDocumentOptions</h4><p>监听集合中符合查询条件的数据的更新事件</p><table><thead><tr><th>参数</th><th>类型</th><th align="center">必填</th><th>说明</th></tr></thead><tbody><tr><td>onChange</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>成功回调，回调传入的参数 snapshot 是变更快照</td></tr><tr><td>onError</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>失败回调</td></tr></tbody></table><h4 id="isnapshot">ISnapshot</h4><p>变更快照</p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>docChanges</td><td><code>ChangeEvent[]</code></td><td>更新事件数组</td></tr><tr><td>docs</td><td><code>Record&lt;string, any&gt;[]</code></td><td>数据快照，表示此更新事件发生后查询语句对应的查询结果</td></tr><tr><td>type</td><td><code>string</code></td><td>快照类型，仅在第一次初始化数据时有值为 init</td></tr><tr><td>id</td><td><code>number</code></td><td>变更事件 id</td></tr></tbody></table><h4 id="changeevent">ChangeEvent</h4><p>更新事件</p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>id</td><td><code>number</code></td><td>更新事件 id</td></tr><tr><td>queueType</td><td>`&quot;init&quot;</td><td>&quot;update&quot;</td></tr><tr><td>dataType</td><td>`&quot;init&quot;</td><td>&quot;update&quot;</td></tr><tr><td>docId</td><td><code>string</code></td><td>更新的记录 id</td></tr><tr><td>doc</td><td><code>Record&lt;string, any&gt;</code></td><td>更新的完整记录</td></tr><tr><td>updatedFields</td><td><code>Record&lt;string, any&gt;</code></td><td>所有更新的字段及字段更新后的值，<code>key</code> 为更新的字段路径，<code>value</code> 为字段更新后的值，仅在 <code>update</code> 操作时有此信息</td></tr><tr><td>removedFields</td><td><code>string[]</code></td><td>所有被删除的字段，仅在 <code>update</code> 操作时有此信息</td></tr></tbody></table><h4 id="queuetype">QueueType</h4><p>列表更新类型，表示更新事件对监听列表的影响，枚举值</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>init</td><td>初始化列表</td></tr><tr><td>update</td><td>列表中的记录内容有更新，但列表包含的记录不变</td></tr><tr><td>enqueue</td><td>记录进入列表</td></tr><tr><td>dequeue</td><td>记录离开列表</td></tr></tbody></table><h4 id="datatype">DataType</h4><p>数据更新类型，表示记录的具体更新类型，枚举值</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>init</td><td>初始化列表</td></tr><tr><td>update</td><td>记录内容更新，对应 <code>update</code> 操作</td></tr><tr><td>replace</td><td>记录内容被替换，对应 <code>set</code> 操作</td></tr><tr><td>add</td><td>记录新增，对应 <code>add</code> 操作</td></tr><tr><td>remove</td><td>记录被删除，对应 <code>remove</code> 操作</td></tr></tbody></table><h4 id="iwatcher">IWatcher</h4><h5 id="close">close</h5><p>关闭监听，无需参数，返回 Promise，会在关闭完成时 resolve</p><pre><code class="language-tsx">() =&gt; Promise&lt;any&gt;
</code></pre><h4 id="igetdocumentoptions">IGetDocumentOptions</h4><p>获取记录参数</p><table><thead><tr><th>参数</th><th>类型</th><th align="center">必填</th><th>说明</th></tr></thead><tbody><tr><td>config</td><td><code>IConfig</code></td><td align="center">否</td><td>配置</td></tr><tr><td>success</td><td><code>(res: T) =&gt; void</code></td><td align="center">否</td><td>接口调用成功的回调函数</td></tr><tr><td>fail</td><td><code>(err: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用失败的回调函数</td></tr><tr><td>complete</td><td>`(val: CallbackResult</td><td align="center">T) =&gt; void`</td><td>否</td></tr></tbody></table><h4 id="icountdocumentoptions">ICountDocumentOptions</h4><p>获取记录条数参数</p><table><thead><tr><th>参数</th><th>类型</th><th align="center">必填</th><th>说明</th></tr></thead><tbody><tr><td>config</td><td><code>IConfig</code></td><td align="center">否</td><td>配置</td></tr><tr><td>success</td><td><code>(res: T) =&gt; void</code></td><td align="center">否</td><td>接口调用成功的回调函数</td></tr><tr><td>fail</td><td><code>(err: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用失败的回调函数</td></tr><tr><td>complete</td><td>`(val: CallbackResult</td><td align="center">T) =&gt; void`</td><td>否</td></tr></tbody></table><h4 id="iupdatedocumentoptions">IUpdateDocumentOptions</h4><p>更新记录参数</p><table><thead><tr><th>参数</th><th>类型</th><th align="center">必填</th><th>说明</th></tr></thead><tbody><tr><td>data</td><td><code>IUpdateCondition</code></td><td align="center">是</td><td></td></tr><tr><td>config</td><td><code>IConfig</code></td><td align="center">否</td><td>配置</td></tr><tr><td>complete</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用结束的回调函数（调用成功、失败都会执行）</td></tr><tr><td>fail</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用失败的回调函数</td></tr><tr><td>success</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用成功的回调函数</td></tr></tbody></table><h4 id="iupdatesingledocumentoptions">IUpdateSingleDocumentOptions</h4><p>更新单条记录参数</p><table><thead><tr><th>参数</th><th>类型</th><th align="center">必填</th><th>说明</th></tr></thead><tbody><tr><td>data</td><td><code>IUpdateCondition</code></td><td align="center">是</td><td>替换记录的定义</td></tr><tr><td>config</td><td><code>IConfig</code></td><td align="center">否</td><td>配置</td></tr><tr><td>complete</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用结束的回调函数（调用成功、失败都会执行）</td></tr><tr><td>fail</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用失败的回调函数</td></tr><tr><td>success</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用成功的回调函数</td></tr></tbody></table><h4 id="isetdocumentoptions">ISetDocumentOptions</h4><p>替换记录参数</p><table><thead><tr><th>参数</th><th>类型</th><th align="center">必填</th><th>说明</th></tr></thead><tbody><tr><td>data</td><td><code>IUpdateCondition</code></td><td align="center">是</td><td>替换记录的定义</td></tr><tr><td>config</td><td><code>IConfig</code></td><td align="center">否</td><td>配置</td></tr><tr><td>complete</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用结束的回调函数（调用成功、失败都会执行）</td></tr><tr><td>fail</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用失败的回调函数</td></tr><tr><td>success</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用成功的回调函数</td></tr></tbody></table><h4 id="isetsingledocumentoptions">ISetSingleDocumentOptions</h4><p>替换一条记录参数</p><table><thead><tr><th>参数</th><th>类型</th><th align="center">必填</th><th>说明</th></tr></thead><tbody><tr><td>data</td><td><code>IUpdateCondition</code></td><td align="center">是</td><td></td></tr><tr><td>config</td><td><code>IConfig</code></td><td align="center">否</td><td>配置</td></tr><tr><td>complete</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用结束的回调函数（调用成功、失败都会执行）</td></tr><tr><td>fail</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用失败的回调函数</td></tr><tr><td>success</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用成功的回调函数</td></tr></tbody></table><h4 id="iremovedocumentoptions">IRemoveDocumentOptions</h4><p>删除记录参数</p><table><thead><tr><th>参数</th><th>类型</th><th align="center">必填</th><th>说明</th></tr></thead><tbody><tr><td>query</td><td><code>IQueryCondition</code></td><td align="center">是</td><td></td></tr><tr><td>config</td><td><code>IConfig</code></td><td align="center">否</td><td>配置</td></tr><tr><td>complete</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用结束的回调函数（调用成功、失败都会执行）</td></tr><tr><td>fail</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用失败的回调函数</td></tr><tr><td>success</td><td><code>(res: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用成功的回调函数</td></tr></tbody></table><h4 id="iremovesingledocumentoptions">IRemoveSingleDocumentOptions</h4><p>删除一条记录参数</p><table><thead><tr><th>参数</th><th>类型</th><th align="center">必填</th><th>说明</th></tr></thead><tbody><tr><td>config</td><td><code>IConfig</code></td><td align="center">否</td><td>配置</td></tr><tr><td>success</td><td><code>(res: T) =&gt; void</code></td><td align="center">否</td><td>接口调用成功的回调函数</td></tr><tr><td>fail</td><td><code>(err: CallbackResult) =&gt; void</code></td><td align="center">否</td><td>接口调用失败的回调函数</td></tr><tr><td>complete</td><td>`(val: CallbackResult</td><td align="center">T) =&gt; void`</td><td>否</td></tr></tbody></table><h4 id="iupdatecondition">IUpdateCondition</h4><p>更新记录定义</p><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>__index</td><td><code>__index</code></td></tr></tbody></table><h4 id="api-支持度-19">API 支持度</h4><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Document.get</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Document.set</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Document.update</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Document.remove</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h3 id="query">Query</h3><p>数据库 Query 引用</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Query.html">参考文档</a></p></blockquote><h4 id="where-1">where</h4><p>指定查询条件，返回带新查询条件的新的集合引用</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.where.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(condition: IQueryCondition) =&gt; Query
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>condition</td><td><code>IQueryCondition</code></td></tr></tbody></table><h5 id="示例代码-18">示例代码</h5><pre><code class="language-tsx">const _ = db.command
const result = await db.collection(&#x27;todos&#x27;).where({
  price: _.lt(100)
}).get()
</code></pre><h5 id="api-支持度-20">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Query.where</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="orderby-1">orderBy</h4><p>指定查询排序条件</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.orderBy.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(fieldPath: string, order: string) =&gt; Query
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>fieldPath</td><td><code>string</code></td></tr><tr><td>order</td><td><code>string</code></td></tr></tbody></table><h5 id="示例代码-19">示例代码</h5><p>按一个字段排序：按进度排升序取待办事项</p><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).orderBy(&#x27;progress&#x27;, &#x27;asc&#x27;)
  .get()
  .then(console.log)
  .catch(console.error)
</code></pre><p>按多个字段排序：先按 progress 排降序（progress 越大越靠前）、再按 description 排升序（字母序越前越靠前）取待办事项</p><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;)
  .orderBy(&#x27;progress&#x27;, &#x27;desc&#x27;)
  .orderBy(&#x27;description&#x27;, &#x27;asc&#x27;)
  .get()
  .then(console.log)
  .catch(console.error)
</code></pre><h5 id="api-支持度-21">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Query.orderBy</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="limit-1">limit</h4><p>指定查询结果集数量上限</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.limit.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(max: number) =&gt; Query
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>max</td><td><code>number</code></td></tr></tbody></table><h5 id="示例代码-20">示例代码</h5><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).limit(10)
  .get()
  .then(console.log)
  .catch(console.error)
</code></pre><h5 id="api-支持度-22">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Query.limit</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="skip-1">skip</h4><p>指定查询返回结果时从指定序列后的结果开始返回，常用于分页</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.skip.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(offset: number) =&gt; Query
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>offset</td><td><code>number</code></td></tr></tbody></table><h5 id="示例代码-21">示例代码</h5><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).skip(10)
  .get()
  .then(console.log)
  .catch(console.error)
</code></pre><h5 id="api-支持度-23">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Query.skip</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="field-1">field</h4><p>指定返回结果中记录需返回的字段</p><p><strong>说明</strong></p><p>方法接受一个必填对象用于指定需返回的字段，对象的各个 key 表示要返回或不要返回的字段，value 传入 true|false（或 1|-1）表示要返回还是不要返回。
如果指定的字段是数组字段，还可以用以下方法只返回数组的第一个元素：在该字段 key 后面拼接上 <code>.$</code> 成为 <code>字段.$</code> 的形式。
如果指定的字段是数组字段，还可以用 <code>db.command.project.slice</code> 方法返回数组的子数组：
方法既可以接收一个正数表示返回前 n 个元素，也可以接收一个负数表示返回后 n 个元素；还可以接收一个包含两个数字 <code>[ skip, limit ]</code> 的数组，如果 <code>skip</code> 是正数，表示跳过 <code>skip</code> 个元素后再返回接下来的 <code>limit</code> 个元素，如果 <code>skip</code> 是负数，表示从倒数第 <code>skip</code> 个元素开始，返回往后数的 <code>limit</code> 个元素</p><ul><li>返回数组的前 5 个元素：<code>{ tags: db.command.project.slice(5) }</code></li><li>返回数组的后 5 个元素：<code>{ tags: db.command.project.slice(-5) }</code></li><li>跳过前 5 个元素，返回接下来 10 个元素：<code>{ tags: db.command.project.slice(5, 10) }</code></li><li>从倒数第 5 个元素开始，返回接下来正方向数的 10 个元素：<code>{ tags: db.command.project.slice(-5, 10) }</code></li></ul><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.field.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(object: Record&lt;string, any&gt;) =&gt; Query
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>object</td><td><code>Record&lt;string, any&gt;</code></td></tr></tbody></table><h5 id="示例代码-22">示例代码</h5><p>返回 description, done 和 progress 三个字段：</p><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).field({
  description: true,
  done: true,
  progress: true,
  // 只返回 tags 数组前 3 个元素
  tags: db.command.project.slice(3),
})
  .get()
  .then(console.log)
  .catch(console.error)
</code></pre><h5 id="api-支持度-24">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Query.field</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="get-2">get</h4><p>获取集合数据，或获取根据查询条件筛选后的集合数据。</p><p><strong>使用说明</strong></p><p>统计集合记录数或统计查询语句对应的结果记录数</p><p>小程序端与云函数端的表现会有如下差异：</p><ul><li>小程序端：如果没有指定 limit，则默认且最多取 20 条记录。</li><li>云函数端：如果没有指定 limit，则默认且最多取 100 条记录。</li></ul><p>如果没有指定 skip，则默认从第 0 条记录开始取，skip 常用于分页。</p><p>如果需要取集合中所有的数据，仅在数据量不大且在云函数中时</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.get.html">参考文档</a></p></blockquote><pre><code class="language-tsx">{ (options: OQ&lt;IDBAPIParam&gt;): void; (options: Pick&lt;IDBAPIParam, &quot;config&quot;&gt;): Promise&lt;IQueryResult&gt;; }
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>options</td><td><code>OQ&lt;IDBAPIParam&gt;</code></td></tr></tbody></table><h5 id="示例代码-23">示例代码</h5><pre><code class="language-tsx">const db = Taro.cloud.database()
db.collection(&#x27;todos&#x27;).where({
  _openid: &#x27;xxx&#x27; // 填入当前用户 openid
}).get().then(res =&gt; {
  console.log(res.data)
})
</code></pre><h5 id="api-支持度-25">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Query.get</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="count-1">count</h4><p>统计匹配查询条件的记录的条数</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/collection/Collection.count.html">参考文档</a></p></blockquote><pre><code class="language-tsx">{ (options: OQ&lt;IDBAPIParam&gt;): void; (options: Pick&lt;IDBAPIParam, &quot;config&quot;&gt;): Promise&lt;ICountResult&gt;; }
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>options</td><td><code>OQ&lt;IDBAPIParam&gt;</code></td></tr></tbody></table><h5 id="示例代码-24">示例代码</h5><h6 id="示例-1-8">示例 1</h6><pre><code class="language-tsx">const db = Taro.cloud.database()
db.collection(&#x27;todos&#x27;).where({
  _openid: &#x27;xxx&#x27; // 填入当前用户 openid
}).count().then(res =&gt; {
  console.log(res.total)
})
</code></pre><h6 id="示例-2-8">示例 2</h6><pre><code class="language-tsx">const db = Taro.cloud.database()
db.collection(&#x27;todos&#x27;).where({
  _openid: &#x27;xxx&#x27; // 填入当前用户 openid
}).count({
  success: function(res) {
    console.log(res.total)
  },
  fail: console.error
})
</code></pre><h5 id="api-支持度-26">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Query.count</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="iquerycondition">IQueryCondition</h4><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>__index</td><td><code>__index</code></td></tr></tbody></table><h4 id="istringquerycondition">IStringQueryCondition</h4><h4 id="iqueryresult">IQueryResult</h4><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>data</td><td><code>IDocumentData[]</code></td><td>查询的结果数组，数据的每个元素是一个 Object，代表一条记录</td></tr><tr><td>errMsg</td><td><code>string</code></td><td>调用结果</td></tr></tbody></table><h4 id="iquerysingleresult">IQuerySingleResult</h4><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>data</td><td><code>IDocumentData</code></td><td></td></tr><tr><td>errMsg</td><td><code>string</code></td><td>调用结果</td></tr></tbody></table><h4 id="iaddresult">IAddResult</h4><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>_id</td><td>`string</td><td>number`</td></tr><tr><td>errMsg</td><td><code>string</code></td><td>调用结果</td></tr></tbody></table><h4 id="iupdateresult">IUpdateResult</h4><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>stats</td><td><code>{ updated: number; }</code></td><td></td></tr><tr><td>errMsg</td><td><code>string</code></td><td>调用结果</td></tr></tbody></table><h4 id="isetresult">ISetResult</h4><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>_id</td><td>`string</td><td>number`</td></tr><tr><td>stats</td><td><code>{ updated: number; created: number; }</code></td><td></td></tr><tr><td>errMsg</td><td><code>string</code></td><td>调用结果</td></tr></tbody></table><h4 id="iremoveresult">IRemoveResult</h4><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>stats</td><td><code>{ removed: number; }</code></td><td></td></tr><tr><td>errMsg</td><td><code>string</code></td><td>调用结果</td></tr></tbody></table><h4 id="icountresult">ICountResult</h4><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>total</td><td><code>number</code></td><td>结果数量</td></tr><tr><td>errMsg</td><td><code>string</code></td><td>调用结果</td></tr></tbody></table><h4 id="api-支持度-27">API 支持度</h4><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Query.where</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Query.orderBy</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Query.limit</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Query.skip</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Query.field</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Query.get</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Query.count</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h3 id="command">Command</h3><p>数据库操作符，通过 db.command 获取</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Command.html">参考文档</a></p></blockquote><h4 id="eq">eq</h4><p>查询筛选条件，表示字段等于某个值。eq 指令接受一个字面量 (literal)，可以是 number, boolean, string, object, array, Date。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.eq.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(val: any) =&gt; DatabaseQueryCommand
</code></pre><h5 id="api-支持度-28">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.eq</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="neq">neq</h4><p>查询筛选条件，表示字段不等于某个值。eq 指令接受一个字面量 (literal)，可以是 number, boolean, string, object, array, Date。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.neq.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(val: any) =&gt; DatabaseQueryCommand
</code></pre><h5 id="api-支持度-29">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.neq</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="gt">gt</h4><p>查询筛选操作符，表示需大于指定值。可以传入 Date 对象用于进行日期比较。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.gt.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(val: any) =&gt; DatabaseQueryCommand
</code></pre><h4 id="gte">gte</h4><p>查询筛选操作符，表示需大于或等于指定值。可以传入 Date 对象用于进行日期比较。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.gte.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(val: any) =&gt; DatabaseQueryCommand
</code></pre><h5 id="api-支持度-30">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.gte</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="lt">lt</h4><p>查询筛选操作符，表示需小于指定值。可以传入 Date 对象用于进行日期比较。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.lt.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(val: any) =&gt; DatabaseQueryCommand
</code></pre><h5 id="api-支持度-31">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.lt</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="lte">lte</h4><p>查询筛选操作符，表示需小于或等于指定值。可以传入 Date 对象用于进行日期比较。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.lte.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(val: any) =&gt; DatabaseQueryCommand
</code></pre><h5 id="api-支持度-32">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.lte</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="in">in</h4><p>查询筛选操作符，表示要求值在给定的数组内。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.in.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(val: any[]) =&gt; DatabaseQueryCommand
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>val</td><td><code>any[]</code></td></tr></tbody></table><h5 id="api-支持度-33">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.in</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="nin">nin</h4><p>查询筛选操作符，表示要求值不在给定的数组内。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.nin.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(val: any[]) =&gt; DatabaseQueryCommand
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>val</td><td><code>any[]</code></td></tr></tbody></table><h5 id="api-支持度-34">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.nin</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="geonear">geoNear</h4><p>按从近到远的顺序，找出字段值在给定点的附近的记录。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.geoNear.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(options: NearCommandOptions) =&gt; DatabaseQueryCommand
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>options</td><td><code>NearCommandOptions</code></td></tr></tbody></table><h5 id="api-支持度-35">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.geoNear</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="geowithin">geoWithin</h4><p>找出字段值在指定区域内的记录，无排序。指定的区域必须是多边形（Polygon）或多边形集合（MultiPolygon）。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.geoWithin.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(options: WithinCommandOptions) =&gt; DatabaseQueryCommand
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>options</td><td><code>WithinCommandOptions</code></td></tr></tbody></table><h5 id="api-支持度-36">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.geoWithin</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="geointersects">geoIntersects</h4><p>找出给定的地理位置图形相交的记录</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.geoIntersects.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(options: IntersectsCommandOptions) =&gt; DatabaseQueryCommand
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>options</td><td><code>IntersectsCommandOptions</code></td></tr></tbody></table><h5 id="api-支持度-37">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.geoIntersects</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="and">and</h4><p>查询操作符，用于表示逻辑 &quot;与&quot; 的关系，表示需同时满足多个查询筛选条件</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.and.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(...expressions: (IQueryCondition | DatabaseLogicCommand)[]) =&gt; DatabaseLogicCommand
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>expressions</td><td>`(IQueryCondition</td></tr></tbody></table><h5 id="api-支持度-38">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.and</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="or">or</h4><p>查询操作符，用于表示逻辑 &quot;或&quot; 的关系，表示需同时满足多个查询筛选条件。或指令有两种用法，一是可以进行字段值的 “或” 操作，二是也可以进行跨字段的 “或” 操作。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.or.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(...expressions: (IQueryCondition | DatabaseLogicCommand)[]) =&gt; DatabaseLogicCommand
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>expressions</td><td>`(IQueryCondition</td></tr></tbody></table><h5 id="api-支持度-39">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.or</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="set-1">set</h4><p>查询操作符，用于表示逻辑 &quot;与&quot; 的关系，表示需同时满足多个查询筛选条件</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.set.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(val: any) =&gt; DatabaseUpdateCommand
</code></pre><h5 id="api-支持度-40">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.set</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="remove">remove</h4><p>更新操作符，用于表示删除某个字段。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.remove.html">参考文档</a></p></blockquote><pre><code class="language-tsx">() =&gt; DatabaseUpdateCommand
</code></pre><h5 id="api-支持度-41">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.remove</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="inc">inc</h4><p>更新操作符，原子操作，用于指示字段自增</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.inc.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(val: number) =&gt; DatabaseUpdateCommand
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>val</td><td><code>number</code></td></tr></tbody></table><h5 id="api-支持度-42">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.inc</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="mul">mul</h4><p>更新操作符，原子操作，用于指示字段自乘某个值</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.mul.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(val: number) =&gt; DatabaseUpdateCommand
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>val</td><td><code>number</code></td></tr></tbody></table><h5 id="api-支持度-43">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.mul</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="push">push</h4><p>数组更新操作符。对一个值为数组的字段，往数组添加一个或多个值。或字段原为空，则创建该字段并设数组为传入值。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.push.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(...values: any[]) =&gt; DatabaseUpdateCommand
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>values</td><td><code>any[]</code></td></tr></tbody></table><h5 id="api-支持度-44">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.push</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="pop">pop</h4><p>数组更新操作符，对一个值为数组的字段，将数组尾部元素删除</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.pop.html">参考文档</a></p></blockquote><pre><code class="language-tsx">() =&gt; DatabaseUpdateCommand
</code></pre><h5 id="api-支持度-45">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.pop</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="shift">shift</h4><p>数组更新操作符，对一个值为数组的字段，将数组头部元素删除。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.shift.html">参考文档</a></p></blockquote><pre><code class="language-tsx">() =&gt; DatabaseUpdateCommand
</code></pre><h5 id="api-支持度-46">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.shift</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="unshift">unshift</h4><p>数组更新操作符，对一个值为数组的字段，往数组头部添加一个或多个值。或字段原为空，则创建该字段并设数组为传入值。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.unshift.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(...values: any[]) =&gt; DatabaseUpdateCommand
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>values</td><td><code>any[]</code></td></tr></tbody></table><h5 id="api-支持度-47">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.unshift</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="databaselogiccommand">DatabaseLogicCommand</h4><p>数据库逻辑操作符</p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>fieldName</td><td>`string</td><td>InternalSymbol`</td></tr><tr><td>operator</td><td><code>string</code></td><td>操作符</td></tr><tr><td>operands</td><td><code>any[]</code></td><td>操作数</td></tr><tr><td>_setFieldName</td><td><code>(fieldName: string) =&gt; DatabaseLogicCommand</code></td><td>设置作用域名称</td></tr></tbody></table><h5 id="and-1">and</h5><p>查询操作符，用于表示逻辑 &quot;与&quot; 的关系，表示需同时满足多个查询筛选条件</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.and.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(...expressions: (IQueryCondition | DatabaseLogicCommand)[]) =&gt; DatabaseLogicCommand
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>expressions</td><td>`(IQueryCondition</td></tr></tbody></table><h6 id="api-支持度-48">API 支持度</h6><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">DatabaseLogicCommand.and</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h5 id="or-1">or</h5><p>查询操作符，用于表示逻辑 &quot;或&quot; 的关系，表示需同时满足多个查询筛选条件。或指令有两种用法，一是可以进行字段值的 “或” 操作，二是也可以进行跨字段的 “或” 操作。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.or.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(...expressions: (IQueryCondition | DatabaseLogicCommand)[]) =&gt; DatabaseLogicCommand
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>expressions</td><td>`(IQueryCondition</td></tr></tbody></table><h6 id="api-支持度-49">API 支持度</h6><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">DatabaseLogicCommand.or</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h5 id="api-支持度-50">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">DatabaseLogicCommand.and</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">DatabaseLogicCommand.or</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="databasequerycommand">DatabaseQueryCommand</h4><p>数据库查询操作符</p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>operator</td><td><code>string</code></td><td>操作符</td></tr><tr><td>_setFieldName</td><td><code>(fieldName: string) =&gt; DatabaseQueryCommand</code></td><td>设置作用域名称</td></tr></tbody></table><h5 id="eq-1">eq</h5><p>查询筛选条件，表示字段等于某个值。eq 指令接受一个字面量 (literal)，可以是 number, boolean, string, object, array, Date。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.eq.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(val: any) =&gt; DatabaseLogicCommand
</code></pre><h6 id="api-支持度-51">API 支持度</h6><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">DatabaseQueryCommand.eq</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h5 id="neq-1">neq</h5><p>查询筛选条件，表示字段不等于某个值。eq 指令接受一个字面量 (literal)，可以是 number, boolean, string, object, array, Date。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.neq.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(val: any) =&gt; DatabaseLogicCommand
</code></pre><h6 id="api-支持度-52">API 支持度</h6><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">DatabaseQueryCommand.neq</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h5 id="gt-1">gt</h5><p>查询筛选操作符，表示需大于指定值。可以传入 Date 对象用于进行日期比较。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.gt.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(val: any) =&gt; DatabaseLogicCommand
</code></pre><h6 id="api-支持度-53">API 支持度</h6><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">DatabaseQueryCommand.gt</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h5 id="gte-1">gte</h5><p>查询筛选操作符，表示需大于或等于指定值。可以传入 Date 对象用于进行日期比较。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.gte.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(val: any) =&gt; DatabaseLogicCommand
</code></pre><h6 id="api-支持度-54">API 支持度</h6><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">DatabaseQueryCommand.gte</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h5 id="lt-1">lt</h5><p>查询筛选操作符，表示需小于指定值。可以传入 Date 对象用于进行日期比较。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.lt.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(val: any) =&gt; DatabaseLogicCommand
</code></pre><h6 id="api-支持度-55">API 支持度</h6><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">DatabaseQueryCommand.lt</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h5 id="lte-1">lte</h5><p>查询筛选操作符，表示需小于或等于指定值。可以传入 Date 对象用于进行日期比较。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.lte.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(val: any) =&gt; DatabaseLogicCommand
</code></pre><h6 id="api-支持度-56">API 支持度</h6><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">DatabaseQueryCommand.lte</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h5 id="in-1">in</h5><p>查询筛选操作符，表示要求值在给定的数组内。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.in.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(val: any[]) =&gt; DatabaseLogicCommand
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>val</td><td><code>any[]</code></td></tr></tbody></table><h6 id="api-支持度-57">API 支持度</h6><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">DatabaseQueryCommand.in</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h5 id="nin-1">nin</h5><p>查询筛选操作符，表示要求值不在给定的数组内。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.nin.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(val: any[]) =&gt; DatabaseLogicCommand
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>val</td><td><code>any[]</code></td></tr></tbody></table><h6 id="api-支持度-58">API 支持度</h6><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">DatabaseQueryCommand.nin</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h5 id="geonear-1">geoNear</h5><p>按从近到远的顺序，找出字段值在给定点的附近的记录。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.geoNear.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(options: NearCommandOptions) =&gt; DatabaseLogicCommand
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>options</td><td><code>NearCommandOptions</code></td></tr></tbody></table><h6 id="api-支持度-59">API 支持度</h6><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">DatabaseQueryCommand.geoNear</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h5 id="geowithin-1">geoWithin</h5><p>找出字段值在指定区域内的记录，无排序。指定的区域必须是多边形（Polygon）或多边形集合（MultiPolygon）。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.geoWithin.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(options: WithinCommandOptions) =&gt; DatabaseLogicCommand
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>options</td><td><code>WithinCommandOptions</code></td></tr></tbody></table><h6 id="api-支持度-60">API 支持度</h6><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">DatabaseQueryCommand.geoWithin</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h5 id="geointersects-1">geoIntersects</h5><p>找出给定的地理位置图形相交的记录</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/command/Command.geoIntersects.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(options: IntersectsCommandOptions) =&gt; DatabaseLogicCommand
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>options</td><td><code>IntersectsCommandOptions</code></td></tr></tbody></table><h6 id="api-支持度-61">API 支持度</h6><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">DatabaseQueryCommand.geoIntersects</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h5 id="api-支持度-62">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">DatabaseQueryCommand.eq</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">DatabaseQueryCommand.neq</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">DatabaseQueryCommand.gt</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">DatabaseQueryCommand.gte</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">DatabaseQueryCommand.lt</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">DatabaseQueryCommand.lte</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">DatabaseQueryCommand.in</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">DatabaseQueryCommand.nin</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">DatabaseQueryCommand.geoNear</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">DatabaseQueryCommand.geoWithin</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">DatabaseQueryCommand.geoIntersects</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="databaseupdatecommand">DatabaseUpdateCommand</h4><p>数据库更新操作符</p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>fieldName</td><td>`string</td><td>InternalSymbol`</td></tr><tr><td>operator</td><td>`&quot;remove&quot;</td><td>&quot;set&quot;</td></tr><tr><td>operands</td><td><code>any[]</code></td><td>操作数</td></tr><tr><td>_setFieldName</td><td><code>(fieldName: string) =&gt; DatabaseUpdateCommand</code></td><td>设置作用域名称</td></tr></tbody></table><h4 id="logic_commands_literal">LOGIC_COMMANDS_LITERAL</h4><p>逻辑命令字面量</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>and</td><td>与</td></tr><tr><td>or</td><td>或</td></tr><tr><td>not</td><td>非</td></tr><tr><td>nor</td><td>都不</td></tr></tbody></table><h4 id="query_commands_literal">QUERY_COMMANDS_LITERAL</h4><p>查询命令字面量</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>eq</td><td>等于</td></tr><tr><td>neq</td><td>不等于</td></tr><tr><td>gt</td><td>大于</td></tr><tr><td>gte</td><td>大于等于</td></tr><tr><td>lt</td><td>小于</td></tr><tr><td>lte</td><td>小于等于</td></tr><tr><td>in</td><td>范围内</td></tr><tr><td>nin</td><td>范围外</td></tr><tr><td>geoNear</td><td>附近排序</td></tr><tr><td>geoWithin</td><td>指定区域内</td></tr><tr><td>geoIntersects</td><td>相交区域</td></tr></tbody></table><h4 id="update_commands_literal">UPDATE_COMMANDS_LITERAL</h4><p>更新命令字面量</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>set</td><td>等于</td></tr><tr><td>remove</td><td>删除</td></tr><tr><td>inc</td><td>自增</td></tr><tr><td>mul</td><td>自乘</td></tr><tr><td>push</td><td>尾部添加</td></tr><tr><td>pop</td><td>尾部删除</td></tr><tr><td>shift</td><td>头部删除</td></tr><tr><td>unshift</td><td>头部添加</td></tr></tbody></table><h4 id="nearcommandoptions">NearCommandOptions</h4><p>按从近到远的顺序，找出字段值在给定点的附近的记录参数</p><table><thead><tr><th>参数</th><th>类型</th><th align="center">必填</th><th>说明</th></tr></thead><tbody><tr><td>geometry</td><td><code>GeoPoint</code></td><td align="center">是</td><td>地理位置点 (Point)</td></tr><tr><td>maxDistance</td><td><code>number</code></td><td align="center">否</td><td>最大距离，单位为米</td></tr><tr><td>minDistance</td><td><code>number</code></td><td align="center">否</td><td>最小距离，单位为米</td></tr></tbody></table><h4 id="withincommandoptions">WithinCommandOptions</h4><p>找出字段值在指定区域内的记录，无排序参数</p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>geometry</td><td>`GeoPolygon</td><td>GeoMultiPolygon`</td></tr></tbody></table><h4 id="intersectscommandoptions">IntersectsCommandOptions</h4><p>找出给定的地理位置图形相交的记录</p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>geometry</td><td>`GeoPoint</td><td>GeoPolygon</td></tr></tbody></table><h4 id="api-支持度-63">API 支持度</h4><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Command.eq</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Command.neq</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Command.gte</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Command.lt</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Command.lte</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Command.in</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Command.nin</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Command.geoNear</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Command.geoWithin</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Command.geoIntersects</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Command.and</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Command.or</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Command.set</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Command.remove</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Command.inc</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Command.mul</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Command.push</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Command.pop</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Command.shift</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Command.unshift</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h3 id="aggregate-1">Aggregate</h3><p>数据库集合的聚合操作实例</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.html">参考文档</a></p></blockquote><h4 id="addfields">addFields</h4><p>聚合阶段。添加新字段到输出的记录。经过 addFields 聚合阶段，输出的所有记录中除了输入时带有的字段外，还将带有 addFields 指定的字段。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.addFields.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(object: Object) =&gt; Aggregate
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h5 id="api-支持度-64">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Aggregate.addFields</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="bucket">bucket</h4><p>聚合阶段。将输入记录根据给定的条件和边界划分成不同的组，每组即一个 bucket。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.bucket.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(object: Object) =&gt; Aggregate
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h5 id="api-支持度-65">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Aggregate.bucket</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="bucketauto">bucketAuto</h4><p>聚合阶段。将输入记录根据给定的条件划分成不同的组，每组即一个 bucket。与 bucket 的其中一个不同之处在于无需指定 boundaries，bucketAuto 会自动尝试将记录尽可能平均的分散到每组中。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.bucketAuto.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(object: Object) =&gt; Aggregate
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h5 id="api-支持度-66">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Aggregate.bucketAuto</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="count-2">count</h4><p>聚合阶段。计算上一聚合阶段输入到本阶段的记录数，输出一个记录，其中指定字段的值为记录数。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.count.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(fieldName: string) =&gt; Aggregate
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>fieldName</td><td><code>string</code></td></tr></tbody></table><h5 id="api-支持度-67">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Aggregate.count</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="end">end</h4><p>标志聚合操作定义完成，发起实际聚合操作</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.end.html">参考文档</a></p></blockquote><pre><code class="language-tsx">() =&gt; Promise&lt;Object&gt;
</code></pre><h5 id="api-支持度-68">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Aggregate.end</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="geonear-2">geoNear</h4><p>聚合阶段。将记录按照离给定点从近到远输出。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.geoNear.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(options: Object) =&gt; Aggregate
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>options</td><td><code>Object</code></td></tr></tbody></table><h5 id="api-支持度-69">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Aggregate.geoNear</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="group">group</h4><p>聚合阶段。将输入记录按给定表达式分组，输出时每个记录代表一个分组，每个记录的 _id 是区分不同组的 key。输出记录中也可以包括累计值，将输出字段设为累计值即会从该分组中计算累计值。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.group.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(object: Object) =&gt; Aggregate
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h5 id="api-支持度-70">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Aggregate.group</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="limit-2">limit</h4><p>聚合阶段。限制输出到下一阶段的记录数。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.limit.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(value: number) =&gt; Aggregate
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>value</td><td><code>number</code></td></tr></tbody></table><h5 id="api-支持度-71">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Aggregate.limit</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="lookup">lookup</h4><p>聚合阶段。聚合阶段。联表查询。与同个数据库下的一个指定的集合做 left outer join(左外连接)。对该阶段的每一个输入记录，lookup 会在该记录中增加一个数组字段，该数组是被联表中满足匹配条件的记录列表。lookup 会将连接后的结果输出给下个阶段。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.lookup.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(object: Object) =&gt; Aggregate
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h5 id="api-支持度-72">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Aggregate.lookup</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="match">match</h4><p>聚合阶段。根据条件过滤文档，并且把符合条件的文档传递给下一个流水线阶段。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.match.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(object: Object) =&gt; Aggregate
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h5 id="api-支持度-73">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Aggregate.match</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="project">project</h4><p>聚合阶段。把指定的字段传递给下一个流水线，指定的字段可以是某个已经存在的字段，也可以是计算出来的新字段。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.project.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(object: Object) =&gt; Aggregate
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h5 id="api-支持度-74">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Aggregate.project</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="replaceroot">replaceRoot</h4><p>聚合阶段。指定一个已有字段作为输出的根节点，也可以指定一个计算出的新字段作为根节点。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.replaceRoot.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(object: Object) =&gt; Aggregate
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h5 id="api-支持度-75">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Aggregate.replaceRoot</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="sample">sample</h4><p>聚合阶段。随机从文档中选取指定数量的记录。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.sample.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(size: number) =&gt; Aggregate
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>size</td><td><code>number</code></td></tr></tbody></table><h5 id="api-支持度-76">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Aggregate.sample</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="skip-2">skip</h4><p>聚合阶段。指定一个正整数，跳过对应数量的文档，输出剩下的文档。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.skip.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(value: number) =&gt; Aggregate
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>value</td><td><code>number</code></td></tr></tbody></table><h5 id="api-支持度-77">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Aggregate.skip</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="sort">sort</h4><p>聚合阶段。根据指定的字段，对输入的文档进行排序。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.sort.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(object: Object) =&gt; Aggregate
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h5 id="api-支持度-78">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Aggregate.sort</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="sortbycount">sortByCount</h4><p>聚合阶段。根据传入的表达式，将传入的集合进行分组（group）。然后计算不同组的数量，并且将这些组按照它们的数量进行排序，返回排序后的结果。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.sortByCount.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(object: Object) =&gt; Aggregate
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>object</td><td><code>Object</code></td></tr></tbody></table><h5 id="api-支持度-79">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Aggregate.sortByCount</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="unwind">unwind</h4><p>聚合阶段。使用指定的数组字段中的每个元素，对文档进行拆分。拆分后，文档会从一个变为一个或多个，分别对应数组的每个元素。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/aggregate/Aggregate.unwind.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(value: string | object) =&gt; Aggregate
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>value</td><td>`string</td></tr></tbody></table><h5 id="api-支持度-80">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Aggregate.unwind</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="api-支持度-81">API 支持度</h4><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">Aggregate.addFields</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Aggregate.bucket</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Aggregate.bucketAuto</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Aggregate.count</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Aggregate.end</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Aggregate.geoNear</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Aggregate.group</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Aggregate.limit</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Aggregate.lookup</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Aggregate.match</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Aggregate.project</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Aggregate.replaceRoot</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Aggregate.sample</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Aggregate.skip</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Aggregate.sort</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Aggregate.sortByCount</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">Aggregate.unwind</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h3 id="igeo">IGeo</h3><p>数据库地理位置结构集</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/Geo.html">参考文档</a></p></blockquote><h4 id="point">Point</h4><p>构造一个地理位置 ”点“。方法接受两个必填参数，第一个是经度（longitude），第二个是纬度（latitude），务必注意顺序。</p><p>如存储地理位置信息的字段有被查询的需求，务必对字段建立地理位置索引</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/Geo.Point.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(longitude: number, latitide: number) =&gt; GeoPoint
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>longitude</td><td><code>number</code></td></tr><tr><td>latitide</td><td><code>number</code></td></tr></tbody></table><h5 id="示例代码-25">示例代码</h5><h6 id="示例-1-9">示例 1</h6><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).add({
  data: {
    description: &#x27;eat an apple&#x27;,
    location: db.Geo.Point(113, 23)
  }
}).then(console.log).catch(console.error)
</code></pre><h6 id="示例-2-9">示例 2</h6><p>除了使用接口构造一个点外，也可以使用等价的 GeoJSON 的 点 (Point) 的 JSON 表示，其格式如下：</p><pre><code class="language-json">{
  &quot;type&quot;: &quot;Point&quot;,
  &quot;coordinates&quot;: [longitude, latitude] // 数字数组：[经度, 纬度]
}
</code></pre><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).add({
  data: {
    description: &#x27;eat an apple&#x27;,
    location: {
      type: &#x27;Point&#x27;,
      coordinates: [113, 23]
    }
  }
}).then(console.log).catch(console.error)
</code></pre><h5 id="api-支持度-82">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">IGeo.Point</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="linestring">LineString</h4><p>构造一个地理位置的 ”线“。一个线由两个或更多的点有序连接组成。</p><p>如存储地理位置信息的字段有被查询的需求，务必对字段建立地理位置索引</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/Geo.LineString.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(points: JSONMultiPoint | GeoPoint[]) =&gt; GeoMultiPoint
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>points</td><td>`JSONMultiPoint</td></tr></tbody></table><h5 id="示例代码-26">示例代码</h5><h6 id="示例-1-10">示例 1</h6><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).add({
  data: {
    description: &#x27;eat an apple&#x27;,
    location: db.Geo.LineString([
      db.Geo.Point(113, 23),
      db.Geo.Point(120, 50),
      // ... 可选更多点
    ])
  }
}).then(console.log).catch(console.error)
</code></pre><h6 id="示例-2-10">示例 2</h6><p>除了使用接口构造一条 LineString 外，也可以使用等价的 GeoJSON 的 线 (LineString) 的 JSON 表示，其格式如下：</p><pre><code class="language-json">{
  &quot;type&quot;: &quot;LineString&quot;,
  &quot;coordinates&quot;: [
    [p1_lng, p1_lat],
    [p2_lng, p2_lng]
    // ... 可选更多点
  ]
}
</code></pre><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).add({
  data: {
    description: &#x27;eat an apple&#x27;,
    location: {
      type: &#x27;LineString&#x27;,
      coordinates: [
        [113, 23],
        [120, 50]
      ]
    }
  }
}).then(console.log).catch(console.error)
</code></pre><h5 id="api-支持度-83">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">IGeo.LineString</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="polygon">Polygon</h4><p>构造一个地理位置 ”多边形“</p><p>如存储地理位置信息的字段有被查询的需求，务必对字段建立地理位置索引</p><p><strong>说明</strong></p><p>一个多边形由一个或多个线性环（Linear Ring）组成，一个线性环即一个闭合的线段。一个闭合线段至少由四个点组成，其中最后一个点和第一个点的坐标必须相同，以此表示环的起点和终点。如果一个多边形由多个线性环组成，则第一个线性环表示外环（外边界），接下来的所有线性环表示内环（即外环中的洞，不计在此多边形中的区域）。如果一个多边形只有一个线性环组成，则这个环就是外环。</p><p>多边形构造规则：</p><ol><li>第一个线性环必须是外环</li><li>外环不能自交</li><li>所有内环必须完全在外环内</li><li>各个内环间不能相交或重叠，也不能有共同的边</li><li>外环应为逆时针，内环应为顺时针</li></ol><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/Geo.Polygon.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(lineStrings: JSONPolygon | GeoLineString[]) =&gt; GeoPolygon
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>lineStrings</td><td>`JSONPolygon</td></tr></tbody></table><h5 id="示例代码-27">示例代码</h5><h6 id="示例-1-11">示例 1</h6><p>单环多边形</p><pre><code class="language-tsx">const { Polygon, LineString, Point } = db.Geo
db.collection(&#x27;todos&#x27;).add({
  data: {
    description: &#x27;eat an apple&#x27;,
    location: Polygon([
      LineString([
        Point(0, 0),
        Point(3, 2),
        Point(2, 3),
        Point(0, 0)
      ])
    ])
  }
}).then(console.log).catch(console.error)
</code></pre><h6 id="示例-2-11">示例 2</h6><p>含一个外环和一个内环的多边形</p><pre><code class="language-tsx">const { Polygon, LineString, Point } = db.Geo
db.collection(&#x27;todos&#x27;).add({
  data: {
    description: &#x27;eat an apple&#x27;,
    location: Polygon([
      // 外环
      LineString([ Point(0, 0), Point(30, 20), Point(20, 30), Point(0, 0) ]),
      // 内环
      LineString([ Point(10, 10), Point(16, 14), Point(14, 16), Point(10, 10) ])
    ])
  }
}).then(console.log).catch(console.error)
</code></pre><h6 id="示例-3-1">示例 3</h6><p>除了使用接口构造一个 Polygon 外，也可以使用等价的 GeoJSON 的 多边形 (Polygon) 的 JSON 表示，其格式如下：</p><pre><code class="language-json">{
  &quot;type&quot;: &quot;Polygon&quot;,
  &quot;coordinates&quot;: [
    [ [lng, lat], [lng, lat], [lng, lat], ..., [lng, lat] ], // 外环
    [ [lng, lat], [lng, lat], [lng, lat], ..., [lng, lat] ], // 可选内环 1
    ...
    [ [lng, lat], [lng, lat], [lng, lat], ..., [lng, lat] ], // 可选内环 n
  ]
}
</code></pre><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).add({
  data: {
    description: &#x27;eat an apple&#x27;,
    location: {
      type: &#x27;Polygon&#x27;,
      coordinates: [
        [ [0, 0], [30, 20], [20, 30], [0, 0] ],
        [ [10, 10], [16, 14], [14, 16], [10, 10]]
      ]
    }
  }
}).then(console.log).catch(console.error)
</code></pre><h5 id="api-支持度-84">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">IGeo.Polygon</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="multipoint">MultiPoint</h4><p>构造一个地理位置的 ”点“ 的集合。一个点集合由一个或更多的点组成。</p><p>如存储地理位置信息的字段有被查询的需求，务必对字段建立地理位置索引</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/Geo.MultiPoint.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(polygons: JSONMultiPolygon | GeoPolygon[]) =&gt; GeoMultiPolygon
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>polygons</td><td>`JSONMultiPolygon</td></tr></tbody></table><h5 id="示例代码-28">示例代码</h5><h6 id="示例-1-12">示例 1</h6><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).add({
  data: {
    description: &#x27;eat an apple&#x27;,
    location: db.Geo.MultiPoint([
      db.Geo.Point(113, 23),
      db.Geo.Point(120, 50),
      // ... 可选更多点
    ])
  }
}).then(console.log).catch(console.error)
</code></pre><h6 id="示例-2-12">示例 2</h6><p>除了使用接口构造 MultiPoint 外，也可以使用等价的 GeoJSON 的 点集合 (MultiPoint) 的 JSON 表示，其格式如下：</p><pre><code class="language-json">{
  &quot;type&quot;: &quot;MultiPoint&quot;,
  &quot;coordinates&quot;: [
    [p1_lng, p1_lat],
    [p2_lng, p2_lng]
    // ... 可选更多点
  ]
}
</code></pre><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).add({
  data: {
    description: &#x27;eat an apple&#x27;,
    location: {
      type: &#x27;MultiPoint&#x27;,
      coordinates: [
        [113, 23],
        [120, 50]
      ]
    }
  }
}).then(console.log).catch(console.error)
</code></pre><h5 id="api-支持度-85">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">IGeo.MultiPoint</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="multilinestring">MultiLineString</h4><p>构造一个地理位置 ”线“ 集合。一个线集合由多条线组成。</p><p>如存储地理位置信息的字段有被查询的需求，务必对字段建立地理位置索引</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/Geo.MultiLineString.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(lineStrings: JSONMultiLineString | GeoLineString[]) =&gt; GeoMultiLineString
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>lineStrings</td><td>`JSONMultiLineString</td></tr></tbody></table><h5 id="示例代码-29">示例代码</h5><h6 id="示例-1-13">示例 1</h6><pre><code class="language-tsx">const { LineString, MultiLineString, Point } = db.Geo
db.collection(&#x27;todos&#x27;).add({
  data: {
    description: &#x27;eat an apple&#x27;,
    location: MultiLineString([
      LineString([ Point(0, 0), Point(30, 20), Point(20, 30), Point(0, 0) ]),
      LineString([ Point(10, 10), Point(16, 14), Point(14, 16), Point(10, 10) ])
    ])
  }
}).then(console.log).catch(console.error)
</code></pre><h6 id="示例-2-13">示例 2</h6><p>除了使用接口构造一个 MultiLineString 外，也可以使用等价的 GeoJSON 的 线集合 (MultiLineString) 的 JSON 表示，其格式如下：</p><pre><code class="language-json">{
  &quot;type&quot;: &quot;MultiLineString&quot;,
  &quot;coordinates&quot;: [
    [ [lng, lat], [lng, lat], [lng, lat], ..., [lng, lat] ],
    [ [lng, lat], [lng, lat], [lng, lat], ..., [lng, lat] ],
    ...
    [ [lng, lat], [lng, lat], [lng, lat], ..., [lng, lat] ]
  ]
}
</code></pre><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).add({
  data: {
    description: &#x27;eat an apple&#x27;,
    location: {
      type: &#x27;MultiLineString&#x27;,
      coordinates: [
        [ [0, 0], [3, 3] ],
        [ [5, 10], [20, 30] ]
      ]
    }
  }
}).then(console.log).catch(console.error)
</code></pre><h5 id="api-支持度-86">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">IGeo.MultiLineString</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="multipolygon">MultiPolygon</h4><p>构造一个地理位置 ”多边形“ 集合。一个多边形集合由多个多边形组成。</p><p>如存储地理位置信息的字段有被查询的需求，务必对字段建立地理位置索引</p><p><strong>说明</strong></p><p>一个多边形由一个或多个线性环（Linear Ring）组成，一个线性环即一个闭合的线段。一个闭合线段至少由四个点组成，其中最后一个点和第一个点的坐标必须相同，以此表示环的起点和终点。如果一个多边形由多个线性环组成，则第一个线性环表示外环（外边界），接下来的所有线性环表示内环（即外环中的洞，不计在此多边形中的区域）。如果一个多边形只有一个线性环组成，则这个环就是外环。</p><p>多边形构造规则：</p><ol><li>第一个线性环必须是外环</li><li>外环不能自交</li><li>所有内环必须完全在外环内</li><li>各个内环间不能相交或重叠，也不能有共同的边</li><li>外环应为逆时针，内环应为顺时针</li></ol><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/Geo.MultiPolygon.html">参考文档</a></p></blockquote><pre><code class="language-tsx">(polygons: JSONMultiPolygon | GeoPolygon[]) =&gt; GeoMultiPolygon
</code></pre><table><thead><tr><th>参数</th><th>类型</th></tr></thead><tbody><tr><td>polygons</td><td>`JSONMultiPolygon</td></tr></tbody></table><h5 id="示例代码-30">示例代码</h5><h6 id="示例-1-14">示例 1</h6><pre><code class="language-tsx">const { MultiPolygon, Polygon, LineString, Point } = db.Geo
db.collection(&#x27;todos&#x27;).add({
  data: {
    description: &#x27;eat an apple&#x27;,
    location: MultiPolygon([
      Polygon([
        LineString([ Point(50, 50), Point(60, 80), Point(80, 60), Point(50, 50) ]),
      ]),
      Polygon([
        LineString([ Point(0, 0), Point(30, 20), Point(20, 30), Point(0, 0) ]),
        LineString([ Point(10, 10), Point(16, 14), Point(14, 16), Point(10, 10) ])
      ]),
    ])
  }
}).then(console.log).catch(console.error)
</code></pre><h6 id="示例-2-14">示例 2</h6><p>除了使用接口构造一个 MultiPolygon 外，也可以使用等价的 GeoJSON 的 多边形 (MultiPolygon) 的 JSON 表示，其格式如下：</p><pre><code class="language-json">{
  &quot;type&quot;: &quot;MultiPolygon&quot;,
  &quot;coordinates&quot;: [
    // polygon 1
    [
      [ [lng, lat], [lng, lat], [lng, lat], ..., [lng, lat] ],
      [ [lng, lat], [lng, lat], [lng, lat], ..., [lng, lat] ],
      ...
      [ [lng, lat], [lng, lat], [lng, lat], ..., [lng, lat] ]
    ],
    ...
    // polygon n
    [
      [ [lng, lat], [lng, lat], [lng, lat], ..., [lng, lat] ],
      [ [lng, lat], [lng, lat], [lng, lat], ..., [lng, lat] ],
      ...
      [ [lng, lat], [lng, lat], [lng, lat], ..., [lng, lat] ]
    ],
  ]
}
</code></pre><pre><code class="language-tsx">db.collection(&#x27;todos&#x27;).add({
  data: {
    description: &#x27;eat an apple&#x27;,
    location: {
      type: &#x27;MultiPolygon&#x27;,
      coordinates: [
        [
          [ [50, 50], [60, 80], [80, 60], [50, 50] ]
        ],
        [
          [ [0, 0], [30, 20], [20, 30], [0, 0] ],
          [ [10, 10], [16, 14], [14, 16], [10, 10]]
        ]
      ]
    }
  }
}).then(console.log).catch(console.error)
</code></pre><h5 id="api-支持度-87">API 支持度</h5><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">IGeo.MultiPolygon</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table><h4 id="geopoint">GeoPoint</h4><p>地理位置 “点”</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/GeoPoint.html">参考文档</a></p></blockquote><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>longitude</td><td><code>number</code></td><td>经度</td></tr><tr><td>latitude</td><td><code>number</code></td><td>纬度</td></tr></tbody></table><h5 id="tojson">toJSON</h5><p>格式化为 JSON 结构</p><pre><code class="language-tsx">() =&gt; object
</code></pre><h5 id="tostring">toString</h5><p>格式化为字符串</p><pre><code class="language-tsx">() =&gt; string
</code></pre><h4 id="geolinestring">GeoLineString</h4><p>地理位置的 ”线“。一个线由两个或更多的点有序连接组成。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/GeoLineString.html">参考文档</a></p></blockquote><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>points</td><td><code>GeoPoint[]</code></td><td>点集合</td></tr></tbody></table><h5 id="tojson-1">toJSON</h5><p>格式化为 JSON 结构</p><pre><code class="language-tsx">() =&gt; JSONLineString
</code></pre><h5 id="tostring-1">toString</h5><p>格式化为字符串</p><pre><code class="language-tsx">() =&gt; string
</code></pre><h4 id="geopolygon">GeoPolygon</h4><p>地理位置 ”多边形“</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/GeoPolygon.html">参考文档</a></p></blockquote><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>lines</td><td><code>GeoLineString[]</code></td><td>线集合</td></tr></tbody></table><h5 id="tojson-2">toJSON</h5><p>格式化为 JSON 结构</p><pre><code class="language-tsx">() =&gt; JSONPolygon
</code></pre><h5 id="tostring-2">toString</h5><p>格式化为字符串</p><pre><code class="language-tsx">() =&gt; string
</code></pre><h4 id="geomultipoint">GeoMultiPoint</h4><p>地理位置的 ”点“ 的集合。一个点集合由一个或更多的点组成。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/GeoMultiPoint.html">参考文档</a></p></blockquote><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>points</td><td><code>GeoPoint[]</code></td><td>点集合</td></tr></tbody></table><h5 id="tojson-3">toJSON</h5><p>格式化为 JSON 结构</p><pre><code class="language-tsx">() =&gt; JSONMultiPoint
</code></pre><h5 id="tostring-3">toString</h5><p>格式化为字符串</p><pre><code class="language-tsx">() =&gt; string
</code></pre><h4 id="geomultilinestring">GeoMultiLineString</h4><p>地理位置 ”线“ 集合。一个线集合由多条线组成。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/GeoMultiLineString.html">参考文档</a></p></blockquote><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>lines</td><td><code>GeoLineString[]</code></td><td>线集合</td></tr></tbody></table><h5 id="tojson-4">toJSON</h5><p>格式化为 JSON 结构</p><pre><code class="language-tsx">() =&gt; JSONMultiLineString
</code></pre><h5 id="tostring-4">toString</h5><p>格式化为字符串</p><pre><code class="language-tsx">() =&gt; string
</code></pre><h4 id="geomultipolygon">GeoMultiPolygon</h4><p>地理位置 ”多边形“ 集合。一个多边形集合由多个多边形组成。</p><blockquote><p><a href="https://developers.weixin.qq.com/miniprogram/dev/wxcloud/reference-sdk-api/database/geo/GeoMultiPolygon.html">参考文档</a></p></blockquote><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>polygons</td><td><code>GeoPolygon[]</code></td><td>多边形集合</td></tr></tbody></table><h5 id="tojson-5">toJSON</h5><p>格式化为 JSON 结构</p><pre><code class="language-tsx">() =&gt; JSONMultiPolygon
</code></pre><h5 id="tostring-5">toString</h5><p>格式化为字符串</p><pre><code class="language-tsx">() =&gt; string
</code></pre><h4 id="jsonpoint">JSONPoint</h4><p>地理位置 “点” 的 JSON 结构</p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>type</td><td><code>&quot;Point&quot;</code></td><td>类型</td></tr><tr><td>coordinates</td><td><code>[number, number]</code></td><td>坐标</td></tr></tbody></table><h4 id="jsonlinestring">JSONLineString</h4><p>地理位置 ”线“ 的 JSON 结构</p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>type</td><td><code>&quot;LineString&quot;</code></td><td>类型</td></tr><tr><td>coordinates</td><td><code>[number, number][]</code></td><td>坐标</td></tr></tbody></table><h4 id="jsonpolygon">JSONPolygon</h4><p>地理位置 ”多边形“ 的 JSON 结构</p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>type</td><td><code>&quot;Polygon&quot;</code></td><td>类型</td></tr><tr><td>coordinates</td><td><code>[number, number][][]</code></td><td>坐标</td></tr></tbody></table><h4 id="jsonmultipoint">JSONMultiPoint</h4><p>地理位置的 ”点“ 集合的 JSON 结构</p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>type</td><td><code>&quot;MultiPoint&quot;</code></td><td>类型</td></tr><tr><td>coordinates</td><td><code>[number, number][]</code></td><td>坐标</td></tr></tbody></table><h4 id="jsonmultilinestring">JSONMultiLineString</h4><p>地理位置 ”线“ 集合的 JSON 结构</p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>type</td><td><code>&quot;MultiLineString&quot;</code></td><td>类型</td></tr><tr><td>coordinates</td><td><code>[number, number][][]</code></td><td>坐标</td></tr></tbody></table><h4 id="jsonmultipolygon">JSONMultiPolygon</h4><p>地理位置 ”多边形“ 集合的 JSON 结构</p><table><thead><tr><th>参数</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>type</td><td><code>&quot;MultiPolygon&quot;</code></td><td>类型</td></tr><tr><td>coordinates</td><td><code>[number, number][][][]</code></td><td>坐标</td></tr></tbody></table><h4 id="api-支持度-88">API 支持度</h4><table><thead><tr><th align="center">API</th><th align="center">微信小程序</th><th align="center">百度小程序</th><th align="center">支付宝小程序</th><th align="center">字节跳动小程序</th><th align="center">QQ 小程序</th><th align="center">H5</th><th align="center">React Native</th><th align="center">快应用</th></tr></thead><tbody><tr><td align="center">IGeo.Point</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">IGeo.LineString</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">IGeo.Polygon</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">IGeo.MultiPoint</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">IGeo.MultiLineString</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr><tr><td align="center">IGeo.MultiPolygon</td><td align="center">✔️</td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr></tbody></table></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/nervjs/taro/edit/docs/versioned_docs/version-3.x/apis/cloud/DB.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/taro/docs/apis/cloud/cloud"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« cloud</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/taro/docs/apis/wxml/createSelectorQuery"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Taro.createSelectorQuery() »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_ thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#参数" class="table-of-contents__link">参数</a><ul><li><a href="#database" class="table-of-contents__link">Database</a></li><li><a href="#collection-1" class="table-of-contents__link">Collection</a></li><li><a href="#document" class="table-of-contents__link">Document</a></li><li><a href="#query" class="table-of-contents__link">Query</a></li><li><a href="#command" class="table-of-contents__link">Command</a></li><li><a href="#aggregate-1" class="table-of-contents__link">Aggregate</a></li><li><a href="#igeo" class="table-of-contents__link">IGeo</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer" id="footer"><div class="grid_c1 footer_cont"><div class="footer_logo_container"><div class="footer_logo"></div><span class="footer_designedby"></span></div><div class="footer_link_container"><div class="footer_link"><h3 class="footer_link_tit footer_link_tit1">相关资源</h3><p><a class="link" href="https://taro.jd.com/" target="_blank">Taro</a></p><p><a class="link" href="https://taro-ui.jd.com/" target="_blank">Taro UI</a></p><p><a class="link" href="https://at-ui.github.io/at-ui/#/zh" target="_blank">At-UI</a></p><p><a class="link" href="https://nerv.aotu.io/" target="_blank">Nerv</a></p><p><a class="link" href="https://athena.aotu.io/" target="_blank">Athena</a></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit2">社区</h3><p><a href="https://github.com/NervJS/taro/issues" target="_blank">GitHub</a></p><p><a href="https://taro-club.jd.com" target="_blank">Taro BBS</a></p><p class="footer_link_connect_wrap"><span class="footer_link_connect footer_link_wechat">微信<span class="wechat_qrcode_icon"><svg t="1554966525626" class="icon svgicon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2588" data-spm-anchor-id="a313x.7781069.0.i0"><path d="M240.071 241.095h59.278v59.278h-59.278v-59.278z" fill="" p-id="2589"></path><path d="M405.959 134.485h-272.611v272.611h106.723v47.445h59.278v-47.445h106.723v-59.278h47.445v-47.445h-47.445l-0.114-165.888zM346.795 347.819h-154.169v-154.055h154.055v154.055h0.114zM240.071 727.154h59.278v59.278h-59.278v-59.278zM726.016 241.095h59.278v59.278h-59.278v-59.278zM512.683 509.042v63.943h59.278v-59.165h47.445v-59.278h-47.445v-47.445h-59.278v101.945zM512.683 725.789v60.643h59.278v-106.723h47.445v-59.278h-106.723v105.358zM571.961 786.432h47.445v47.445h-47.445v-47.445zM453.405 833.877v59.165h118.557v-59.165h-118.557z" fill="" p-id="2590"></path><path d="M678.685 679.709h-59.278v106.723h106.61v-59.278h-47.331v-47.445zM726.016 893.042h166.002v-59.165h-106.723v-47.445h-59.278v106.61zM892.018 513.821v-59.278h-106.723v59.278h106.723zM832.739 727.154h59.278v59.278h-59.278v-59.278zM453.405 347.819h59.278v59.278h-59.278v-59.278zM726.016 454.542v-47.445h166.002v-272.611h-272.611v59.278h-106.723v47.445h106.723v59.165h-47.445v47.445h47.445v59.278h59.278v47.445h47.331zM678.685 193.763h154.055v154.055h-154.055v-154.055zM678.685 572.985h47.331v47.445h-47.331v-47.445zM785.294 679.709h-59.278v47.445h106.723v-106.723h59.278v-47.445h-106.723v106.723zM453.405 241.095h59.278v59.278h-59.278v-59.278zM299.349 513.821h47.445v59.165h-47.445v-59.165zM453.405 454.542h-106.61v59.278h59.165v59.165h47.445v-118.443z" fill="" p-id="2591"></path><path d="M405.959 786.432v-106.723h47.445v-59.278h-213.333v-106.61h-106.723v59.278h59.278v47.445h-59.278v272.611h272.611v-59.278h47.445v-47.445h-47.445zM346.795 833.877h-154.169v-154.169h154.055v154.169h0.114zM453.405 572.985h59.278v47.445h-59.278v-47.445zM619.406 513.821h59.278v59.165h-59.278v-59.165zM726.016 513.821h59.278v59.165h-59.278v-59.165z" fill="" p-id="2592"></path></svg></span></span><span class="footer_link_wechat_img"><img src="https://camo.githubusercontent.com/10834a234b99a5880b5dff7c0ca7235e2a0772e7/687474703a2f2f696d6732302e333630627579696d672e636f6d2f7562612f6a66732f7432303139372f3238332f313638373136383837342f3133363034322f32623464383131662f35623330613635634e39643166303366312e706e67"></span></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit3">关于我们</h3><p><a href="https://aotu.io/" target="_blank">凹凸实验室</a></p><p><a href="https://aotu.io/join/" target="_blank">加入我们</a></p><p><a href="mailto:taro@jd.com?subject=【Taro 合作】合作标题">联系我们</a></p></div><div class="footer_link"><h3 class="footer_link_tit footer_link_tit4">感谢</h3><p><a href="http://jdc.jd.com/" target="_blank">用户体验设计部</a></p><p><a href="https://github.com/nervjs/taro#%E8%B4%A1%E7%8C%AE%E8%80%85%E4%BB%AC" target="_blank">Taro 贡献者们</a></p></div></div></div><div class="copyright"><div class="in">Copyright © 2020. All Rights Reserved. 粤ICP备15077732号-2</div></div></footer></div>
<script src="/taro/styles.55db6f27.js"></script>
<script src="/taro/runtime~main.452067a7.js"></script>
<script src="/taro/main.741ca0ab.js"></script>
<script src="/taro/1.8febc1d6.js"></script>
<script src="/taro/2.caae0f6a.js"></script>
<script src="/taro/1be78505.0177abb3.js"></script>
<script src="/taro/5dde19ad.4e21ec1c.js"></script>
<script src="/taro/17896441.09a1fa7a.js"></script>
<script src="/taro/60cbf663.6ecf390b.js"></script>
</body>
</html>